---
title: "Indlæs data fra RedCap"
author:
  - name: Søren O'Neill
    url: www.oneill.dk
date: "2023-12-19"
#output:
#  distill::distill_article:
#    self_contained: false
#collections:
#  posts:
#    disqus: reproducible-finance-with-r
categories:
  - RStudio
  - Input
creative_commons: CC BY
format: html
editor: source
number-sections: true
---

## RedCap

* Til en start, log ind på REDCaps web-portal
* Gå til 'My Projects'
* Find det projekt du gerne vil downloade data fra
* I menuen på venstre side, vælge Applications / Exports, Reports and Stats

![](gfx/redcap_menu.png)

* Klik så på 'Export data'

![](gfx/redcap_export.png)

* Vælg mulighed 'R Statistical Software' og klik på 'Export data'

![](gfx/redcap_export_2.png)
Klik nu på hver af de to ikoner (nederst til højre) **R** og *DATA**

![](gfx/redcap_export_3.png)

## Data strukture

Dataene bliver eksporteret som en standard [csv fil](intro_load_csv_da.qmd). 

Der medfølger en R script fil, som vil indlæse csv filen og omforme data til en R _data frame_ kaldet 'data'.

Du kan nøjes med at køre R script'er en enkelt gang for at generere 'data' data frame'en og så eksportere den til en RDS fil og indlæse den i dine egne R scripts.

**Bemærk** R script'et afhænger af pakken `Hmisc`.

## Direkte database adgang

Det er muligt at tilgå REDCap databasen direkte fra R kdoe. Se [dette link](https://cran.r-project.org/web/packages/REDCapR/REDCapR.pdf) for mere information. 

Det vil dog også kræve et validt _access token_. REDCap administratoren burde kunne give dig et sådan token, hvis altså det er tilladeligt.


<script src="https://giscus.app/client.js"
        data-repo="sorenoneill/r4phd"
        data-repo-id="R_kgDOJ9etDQ"
        data-category="Announcements"
        data-category-id="DIC_kwDOJ9etDc4CYApF"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="0"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="cobalt"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>