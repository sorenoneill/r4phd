<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Steen Flammild Harsted">
<meta name="dcterms.date" content="2023-12-29">

<title>R4phd - dplyr</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./day_1_other.html" rel="next">
<link href="./day_1_quarto_documents.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">R4phd</span>
    </a>
  </div>
        <div class="quarto-navbar-tools ms-auto">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">R course exercises</li><li class="breadcrumb-item"><a href="./day_1_basics_of_Rstudio.html">Day 1</a></li><li class="breadcrumb-item"><a href="./day_1_dplyr.html">dplyr</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
 <span class="menu-text">Installation</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_installation/installation_quick_preparation_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Getting started</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_installation/installation_prerequisites_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prerequisites</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_installation/installation_ecosystem_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The R ecosystem</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_installation/installation_background_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R versus RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_installation/installation_r_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R installation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_installation/installation_rstudio_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RStudio installation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_installation/installation_r_packages_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R package installation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_installation/installation_cloud_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Posit Cloud</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_installation/installation_check_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Check all is OK</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Getting to know RStudio</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_gui/rstudio_introduction_to_gui_1_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RStudios GUI #1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_gui/rstudio_introduction_to_gui_2_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RStudios GUI #2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_gui/rstudio_introduction_to_gui_console_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RStudios GUI – the console</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text">Data structure</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_data_structure/tidy_data_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tidy data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_data_structure/normalization_of_data_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Normalization of data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_data_structure/base_r_data_types_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Base R - data types</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_data_structure/base_r_missing_data_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Base R - missing data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
 <span class="menu-text">Manuscript workflow</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_manuscript_workflow/load_data_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Loading data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_manuscript_workflow/inspect_data_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inspect your data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_manuscript_workflow/wrangle_data_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wrangle your data into tidy data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">R course exercises</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Day 1</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./day_1_basics_of_Rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Basics of Rstudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./day_1_basics_of_R_code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Basics of R code</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./day_1_settting_up_your_course_project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Setting up your course project</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./day_1_quarto_documents.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">quarto documents</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./day_1_dplyr.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">dplyr</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./day_1_other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other data wrangling functions</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
 <span class="menu-text">Day 2</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./day_2_ggplot2_basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ggplot2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./day_2_ggplot2_extras.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Extra Material</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">
 <span class="menu-text">Day 3</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./day_3_factors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">factors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./day_3_data_import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">data import</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./day_3_missings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Missings</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./day_3_tables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tables</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false">
 <span class="menu-text">Day 4</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./day_4_hypothesis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hypothesis testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./day_4_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regression</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false">
 <span class="menu-text">RRR</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_rrr/reproducible_research_basics_exercises_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Thinking about RRR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_rrr/reproducible_research_intro_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Intro to RRR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_rrr/reproducible_research_workflow_1_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RRR – Workflow #1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_rrr/reproducible_research_basics_comments_how_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Comments - how to</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_rrr/reproducible_research_basics_comments_where_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Comments - where to</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_rrr/reproducible_research_basics_comments_what_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Comments - what to</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_rrr/reproducible_research_basics_white_space_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">White space</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_rrr/reproducible_research_basics_readme_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">README.md</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_rrr/reproducible_research_basics_naming_stuff_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Naming stuff</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_rrr/reproducible_research_basics_file_structure_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Files</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_rrr/reproducible_research_workflow_2_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RRR – Structuring your project</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_rrr/reproducible_research_citations_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RRR – Citing references</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qmd_rrr/reproducible_research_collaboration_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RRR – Collaboration</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link active" data-scroll-target="#getting-started"><span class="header-section-number">1</span> Getting started</a>
  <ul class="collapse">
  <li><a href="#load-the-tidyverse-and-the-here-package" id="toc-load-the-tidyverse-and-the-here-package" class="nav-link" data-scroll-target="#load-the-tidyverse-and-the-here-package">Load the <code>tidyverse</code> and the <code>here</code> package</a></li>
  <li><a href="#here" id="toc-here" class="nav-link" data-scroll-target="#here"><span class="header-section-number">1.1</span> <code>here()</code></a></li>
  <li><a href="#skim" id="toc-skim" class="nav-link" data-scroll-target="#skim"><span class="header-section-number">1.2</span> <code>skim()</code></a></li>
  </ul></li>
  <li><a href="#dplyr" id="toc-dplyr" class="nav-link" data-scroll-target="#dplyr"><span class="header-section-number">2</span> <code>dplyr</code></a>
  <ul class="collapse">
  <li><a href="#select" id="toc-select" class="nav-link" data-scroll-target="#select"><span class="header-section-number">2.1</span> <code>select()</code></a></li>
  <li><a href="#filter" id="toc-filter" class="nav-link" data-scroll-target="#filter"><span class="header-section-number">2.2</span> <code>filter()</code></a></li>
  <li><a href="#summarise" id="toc-summarise" class="nav-link" data-scroll-target="#summarise"><span class="header-section-number">2.3</span> <code>summarise()</code></a></li>
  <li><a href="#group_by-and-arrange" id="toc-group_by-and-arrange" class="nav-link" data-scroll-target="#group_by-and-arrange"><span class="header-section-number">2.4</span> <code>group_by()</code> and <code>arrange()</code></a></li>
  <li><a href="#mutate" id="toc-mutate" class="nav-link" data-scroll-target="#mutate"><span class="header-section-number">2.5</span> <code>mutate()</code></a></li>
  <li><a href="#count" id="toc-count" class="nav-link" data-scroll-target="#count"><span class="header-section-number">2.6</span> <code>count()</code></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">dplyr</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
<p class="subtitle lead">+ here and skimr</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Steen Flammild Harsted </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 29, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p><br><br></p>
<section id="getting-started" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Getting started</h1>
<section id="load-the-tidyverse-and-the-here-package" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="load-the-tidyverse-and-the-here-package">Load the <code>tidyverse</code> and the <code>here</code> package</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>&nbsp;</p>
</section>
<section id="here" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="here"><span class="header-section-number">1.1</span> <code>here()</code></h2>
<section id="try-out-the-here-function" class="level3">
<h3 class="anchored" data-anchor-id="try-out-the-here-function">Try out the <code>here()</code> function</h3>
<ul>
<li>What happens if you write <code>here()</code> ?</li>
<li>What happens if you write <code>here("raw_data")</code> ?<br>
</li>
<li>Compare your output with your neighbors.</li>
<li>Compare your output with someone who has a different operating system (Windows, Mac, Linux) than you. (Hint: look for \ /)</li>
<li>Discuss if and how the <code>here()</code>function could ever be of any use to anybody</li>
</ul>
<p><br>
</p>
</section>
<section id="load-the-soldiers-dataset" class="level3">
<h3 class="anchored" data-anchor-id="load-the-soldiers-dataset">Load the <code>soldiers</code> dataset</h3>
<p>Use the function <code>read_csv2()</code><br>
The <code>file</code> argument should be <code>here("raw_data", "soldiers.csv")</code></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv2</span>(<span class="fu">here</span>(<span class="st">"raw_data"</span>, <span class="st">"soldiers.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
</p>
</section>
<section id="assign-the-soldiers-dataset-to-an-object-called-soldiers" class="level3">
<h3 class="anchored" data-anchor-id="assign-the-soldiers-dataset-to-an-object-called-soldiers">Assign the <code>soldiers</code> dataset to an object called <code>soldiers</code></h3>
<p>Great, now read the data again and assign it (remember <code>&lt;-</code>) to an object called <code>soldiers</code></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="fu">here</span>(<span class="st">"raw_data"</span>, <span class="st">"soldiers.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
</p>
</section>
</section>
<section id="skim" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="skim"><span class="header-section-number">1.2</span> <code>skim()</code></h2>
<p>There are many ways to explore a dataframe. In this course we will take a shortcut and use the <code>skim()</code> function from the <code>skimr</code> package. The <code>skim()</code> function provides an exellent overview of a dataframe.</p>
<p>Load the <code>skimr</code> package and use the <code>skim()</code> function to get an impression of the <code>soldiers</code> dataset.</p>
<p>Discuss with your neighbor:</p>
<ul>
<li>Nr of rows?</li>
<li>Nr of columns?</li>
<li>Missing values?</li>
<li>Types of variables?</li>
<li>How many unique values does the different character variables have?<br>
</li>
<li>Any fake data? <em>(hint: Yes, for educational purposes I have added some fake data)</em></li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(soldiers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br><br><br><br><br><br><br><br></p>
</section>
</section>
<section id="dplyr" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> <code>dplyr</code></h1>
<p>The main functions of dplyr that you will practice today are:</p>
<ul>
<li><code>select()</code></li>
<li><code>filter()</code></li>
<li><code>summarise()</code></li>
<li><code>group_by()</code></li>
<li><code>arrange()</code></li>
<li><code>mutate()</code></li>
<li><code>count()</code></li>
</ul>
<p><br><br></p>
<section id="select" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="select"><span class="header-section-number">2.1</span> <code>select()</code></h2>
<section id="select-the-columns-subjectid-sex-age" class="level3">
<h3 class="anchored" data-anchor-id="select-the-columns-subjectid-sex-age">select the columns <code>subjectid</code>, <code>sex</code>, <code>age</code></h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(subjectid, sex, age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
</p>
</section>
<section id="select-the-columns-1-3-57" class="level3">
<h3 class="anchored" data-anchor-id="select-the-columns-1-3-57">select the columns 1, 3, 5:7</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span><span class="sc">:</span><span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
</p>
</section>
<section id="remove-the-columns-35" class="level3">
<h3 class="anchored" data-anchor-id="remove-the-columns-35">remove the columns 3:5</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
</p>
</section>
<section id="select-all-columns-that-contains-the-word-circumference" class="level3">
<h3 class="anchored" data-anchor-id="select-all-columns-that-contains-the-word-circumference">select all columns that contains the word “circumference”</h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
HINT
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Use one of the <a href="https://tidyselect.r-lib.org/reference/language.html">tidyselect</a> helper functions.</p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"circumference"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="remove-all-columns-containing-the-letter-c" class="level3">
<h3 class="anchored" data-anchor-id="remove-all-columns-containing-the-letter-c">remove all columns containing the letter “c”</h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
HINT
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Use one of the <a href="https://tidyselect.r-lib.org/reference/language.html">tidyselect</a> helper functions.<br>
Use a minus sign.</p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">contains</span>(<span class="st">"c"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="select-all-columns-that-contains-a-c-or-x-or-y-or-z" class="level3">
<h3 class="anchored" data-anchor-id="select-all-columns-that-contains-a-c-or-x-or-y-or-z">select all columns that contains a “c” OR “x” OR “y” OR “z”</h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
HINT
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In R(and many other programming languages) the | sign is used as a logical operator for OR.</p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"c"</span>) <span class="sc">|</span> <span class="fu">contains</span>(<span class="st">"x"</span>) <span class="sc">|</span> <span class="fu">contains</span>(<span class="st">"y"</span>) <span class="sc">|</span> <span class="fu">contains</span>(<span class="st">"z"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="select-all-columns-that-contains-a-c-or-x-or-y-or-z-1" class="level3">
<h3 class="anchored" data-anchor-id="select-all-columns-that-contains-a-c-or-x-or-y-or-z-1">select all columns that contains a “c” OR “x” OR “y” OR “z”</h3>
<p>This time use the <a href="https://tidyselect.r-lib.org/reference/language.html">tidyselect</a> helper function called <code>matches()</code><br>
<code>matches()</code> allows you to use logical operators inside the function. E.g., <code>matches("this|that")</code></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">"c|x|y|z"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="challenge-why-not-always-use-matches" class="level3">
<h3 class="anchored" data-anchor-id="challenge-why-not-always-use-matches">Challenge: Why not always use <code>matches()</code>?</h3>
<p>Use the preloaded <code>iris</code> data-set. (just write <code>iris</code>)<br>
Try to use <code>matches()</code> to select all columns containing a “.”</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">"."</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="co"># This line is just to prevent a very long output.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
<p>Why did we select the <code>Species</code> column?<br>
What happens if we use <code>contains()</code> instead</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"."</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="co"># This line is just to prevent a very long output.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
<p>What is the difference in the output? Why is it different?</p>
<details>
<summary>
ANSWER
</summary>
<p><code>contains()</code>: Contains a literal string.<br>
<code>matches()</code>: Matches a <a href="https://en.wikipedia.org/wiki/Regular_expression">regular expression</a>.<br>
In regular expressions <code>.</code> is a wildcard.</p>
<blockquote class="blockquote">
<p>The wildcard . matches any character. For example, a.b matches any string that contains an “a”, and then any character and then “b”; and a.*b matches any string that contains an “a”, and then the character “b” at some later point.<br>
<a href="https://en.wikipedia.org/wiki/Regular_expression" class="uri"><em>https://en.wikipedia.org/wiki/Regular_expression</em></a></p>
</blockquote>
</details>
<p><br><br><br><br><br><br><br><br></p>
</section>
</section>
<section id="filter" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="filter"><span class="header-section-number">2.2</span> <code>filter()</code></h2>
<p>Restart R. (Click Session -&gt; Restart R)<br>
Load the <code>tidyverse</code> and the <code>here</code> package</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
Load the <code>soldiers</code>data and assign it to an object called <code>soldiers</code></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="fu">here</span>(<span class="st">"raw_data"</span>, <span class="st">"soldiers.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
</p>
<section id="keep-all-rows-where-sex-is-female" class="level3">
<h3 class="anchored" data-anchor-id="keep-all-rows-where-sex-is-female">Keep all rows where <code>sex</code> is Female:</h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><code>???? == "Female"</code></p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"Female"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="keep-all-rows-where-weightkg-is-missing-na-value" class="level3">
<h3 class="anchored" data-anchor-id="keep-all-rows-where-weightkg-is-missing-na-value">Keep all rows where <code>weightkg</code> is missing (NA value)</h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>use the <code>is.na()</code> function</p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(weightkg))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="keep-all-rows-where-writingpreference-is-left-hand-and-sex-is-female" class="level3">
<h3 class="anchored" data-anchor-id="keep-all-rows-where-writingpreference-is-left-hand-and-sex-is-female">Keep all rows where <code>WritingPreference</code> is “Left hand” AND <code>sex</code> is “Female”</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(WritingPreference <span class="sc">==</span> <span class="st">"Left hand"</span> ,  sex <span class="sc">==</span> <span class="st">"Female"</span>)  <span class="co"># you can use &amp; instead of a ,</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="keep-all-rows-where-writingpreference-is-left-hand-or-sex-is-female" class="level3">
<h3 class="anchored" data-anchor-id="keep-all-rows-where-writingpreference-is-left-hand-or-sex-is-female">Keep all rows where <code>WritingPreference</code> is “Left hand” OR <code>sex</code> is “Female”</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(WritingPreference <span class="sc">==</span> <span class="st">"Left hand"</span> <span class="sc">|</span>  sex <span class="sc">==</span> <span class="st">"Female"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="what-is-going-wrong-in-this-code" class="level3">
<h3 class="anchored" data-anchor-id="what-is-going-wrong-in-this-code">What is going wrong in this code?</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(WritingPreference <span class="sc">==</span> <span class="st">"Left hand"</span> <span class="sc">|</span>  sex <span class="sc">==</span> <span class="st">"Female"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The error message is:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="st">`</span><span class="at">filter()</span><span class="st">`</span><span class="sc">:</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>ℹ In argument<span class="sc">:</span> <span class="st">`</span><span class="at">WritingPreference == "Left hand" | sex == "Female"</span><span class="st">`</span>.</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>Caused by error<span class="sc">:</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span> object <span class="st">'WritingPreference'</span> not found</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>Run <span class="st">`</span><span class="at">rlang::last_error()</span><span class="st">`</span> to see where the error occurred.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>ANSWER</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>The variable WritingPreference was not selected <span class="cf">in</span> the first line.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="keep-all-rows-where-age-is-above-30-and-the-weightkg-is-below-600" class="level3">
<h3 class="anchored" data-anchor-id="keep-all-rows-where-age-is-above-30-and-the-weightkg-is-below-600">Keep all rows where <code>age</code> is above 30 and the <code>weightkg</code> is below 600</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">&gt;</span> <span class="dv">30</span>, weightkg <span class="sc">&lt;</span> <span class="dv">600</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
</p>
</section>
<section id="keep-all-rows-where-ethnicity-is-either-mexican-or-filipino-or-caribbean-islander" class="level3">
<h3 class="anchored" data-anchor-id="keep-all-rows-where-ethnicity-is-either-mexican-or-filipino-or-caribbean-islander">Keep all rows where <code>Ethnicity</code> is either “Mexican” OR “Filipino” OR “Caribbean Islander”</h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>you need to use <code>%in%</code> and <code>c()</code></p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Ethnicity <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Mexican"</span>, <span class="st">"Filipino"</span>, <span class="st">"Caribbean Islander"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Difference between <code>==</code> and <code>%in%</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>tldr - Use <code>%in%</code> instead of <code>==</code> when you want to filter for multiple values.</p>
<p>Read on if you want to understand why. (You don’t have to)</p>
<p>The code <code>filter(Ethnicity == c("Mexican", "Filipino"))</code> is likely not doing what you expect. The ‘==’ operator does an element-wise comparison, which means it compares the first element of ‘Ethnicity’ to the first element of the vector (“Mexican”), the second element of ‘Ethnicity’ to the second element of the vector (“Filipino”). The short vector is then recycled so now the third element of ‘Ethnicity’ is compared to the first element of the vector (“Mexican”), the fourth element of ‘Ethnicity’ to the second element of the vector (“Filipino”), and so on.</p>
<p>Inspect the differences in how may rows these lines of code produce</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Ethnicity <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Mexican"</span>, <span class="st">"Filipino"</span>))</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Ethnicity <span class="sc">==</span> <span class="fu">c</span>(<span class="st">"Mexican"</span>, <span class="st">"Filipino"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Run this code chunk line by line. Inspect the differences.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Ethnicity =</span> <span class="fu">c</span>(<span class="st">"Mexican"</span>, <span class="st">"Filipino"</span>, <span class="st">"Italian"</span>, <span class="st">"Mexican"</span>, <span class="st">"Italian"</span>, <span class="st">"Filipino"</span>),</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Name =</span> <span class="fu">c</span>(<span class="st">"John"</span>, <span class="st">"Maria"</span>, <span class="st">"Luigi"</span>, <span class="st">"Carlos"</span>, <span class="st">"Francesco"</span>, <span class="st">"Jose"</span>),</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Investigate the data frame</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter using %in%</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Ethnicity <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Mexican"</span>, <span class="st">"Filipino"</span>))</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter using ==</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Ethnicity <span class="sc">==</span> <span class="fu">c</span>(<span class="st">"Mexican"</span>, <span class="st">"Filipino"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p><br><br><br><br><br><br><br><br></p>
</section>
</section>
<section id="summarise" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="summarise"><span class="header-section-number">2.3</span> <code>summarise()</code></h2>
<p>Restart R. (Click Session -&gt; Restart R)<br>
Load the <code>tidyverse</code> and the <code>here</code> package</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
Load the <code>soldiers</code>data and assign it to an object called <code>soldiers</code></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="fu">here</span>(<span class="st">"raw_data"</span>, <span class="st">"soldiers.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
</p>
<section id="calculate-the-mean-and-standard-deviation-of-footlength" class="level3">
<h3 class="anchored" data-anchor-id="calculate-the-mean-and-standard-deviation-of-footlength">Calculate the mean and standard deviation of <code>footlength</code></h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">footlength_avg =</span> <span class="fu">mean</span>(footlength),</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">footlength_sd =</span> <span class="fu">sd</span>(footlength))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="calculate-the-median-and-interquartile-range-of-earlength" class="level3">
<h3 class="anchored" data-anchor-id="calculate-the-median-and-interquartile-range-of-earlength">Calculate the median and interquartile range of <code>earlength</code></h3>
<details>
<summary>
HINT
</summary>
use the <code>IQR()</code> function
</details>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">earlength_median =</span> <span class="fu">median</span>(earlength),</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">earlength_iqr =</span> <span class="fu">IQR</span>(earlength))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="count-the-number-of-rows-where-writingpreference-is-equal-to-right-hand" class="level3">
<h3 class="anchored" data-anchor-id="count-the-number-of-rows-where-writingpreference-is-equal-to-right-hand">Count the number of rows where <code>WritingPreference</code> is equal to “Right hand”</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span>  </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_righthanded =</span> <span class="fu">sum</span>(WritingPreference <span class="sc">==</span> <span class="st">"Right hand"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
</p>
</section>
<section id="how-old-is-the-oldest-soldier" class="level3">
<h3 class="anchored" data-anchor-id="how-old-is-the-oldest-soldier">How old is the oldest soldier?</h3>
<details>
<summary>
<p>HINT if you can’t work out why get an <code>NA</code> value</p>
</summary>
<p>Many Base R functions, including <code>mean()</code>, does not ignore NA values by default. This means that if the vector contains an <code>NA</code> value the result will be <code>NA</code>. Is this a good or bad thing?<br>
You can set the argument <code>na.rm = TRUE</code>, to ignore missing values.</p>
</details>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_max =</span> <span class="fu">max</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
</p>
</section>
<section id="calculate-the-mean-weight-of-the-females" class="level3">
<h3 class="anchored" data-anchor-id="calculate-the-mean-weight-of-the-females">Calculate the mean weight of the Females</h3>
<details>
<summary>
<p>HINT if you can’t work out why get an <code>NA</code> value</p>
</summary>
<p>Many Base R functions, including <code>mean()</code>, does not ignore NA values by default. This means that if the vector contains an <code>NA</code> value the result will be <code>NA</code>. Is this a good or bad thing?<br>
You can set the argument <code>na.rm = TRUE</code>, to ignore missing values.</p>
</details>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"Female"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight_avg =</span> <span class="fu">mean</span>(weightkg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="calculate-the-range-in-weight-max-min-within-males" class="level3">
<h3 class="anchored" data-anchor-id="calculate-the-range-in-weight-max-min-within-males">Calculate the range in weight (max-min) within Males</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"Male"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight_range =</span> <span class="fu">max</span>(weightkg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">-</span><span class="fu">min</span>(weightkg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br><br><br><br><br><br><br><br></p>
</section>
</section>
<section id="group_by-and-arrange" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="group_by-and-arrange"><span class="header-section-number">2.4</span> <code>group_by()</code> and <code>arrange()</code></h2>
<p>Restart R. (Click Session -&gt; Restart R)<br>
Load the <code>tidyverse</code> and the <code>here</code> package</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
Load the <code>soldiers</code>data and assign it to an object called <code>soldiers</code></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="fu">here</span>(<span class="st">"raw_data"</span>, <span class="st">"soldiers.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
</p>
<section id="calculate-the-mean-and-sd-of-weightkg-and-age-for-all-installations" class="level3">
<h3 class="anchored" data-anchor-id="calculate-the-mean-and-sd-of-weightkg-and-age-for-all-installations">Calculate the mean and sd of <code>weightkg</code> and <code>age</code> for all <code>Installation</code>s</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Installation) <span class="sc">%&gt;%</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight_avg =</span> <span class="fu">mean</span>(weightkg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">weight_sd =</span> <span class="fu">sd</span>(weightkg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">age_avg =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">age_sd =</span> <span class="fu">sd</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="calculate-the-mean-and-sd-of-weightkg-and-age-for-all-installations-for-both-sexes" class="level3">
<h3 class="anchored" data-anchor-id="calculate-the-mean-and-sd-of-weightkg-and-age-for-all-installations-for-both-sexes">Calculate the mean and sd of <code>weightkg</code> and <code>age</code> for all <code>Installation</code>s for both <code>sex</code>es</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Installation, sex) <span class="sc">%&gt;%</span> </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight_avg =</span> <span class="fu">mean</span>(weightkg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">weight_sd =</span> <span class="fu">sd</span>(weightkg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">age_avg =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">age_sd =</span> <span class="fu">sd</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="calcualate-the-average-height-for-each-installation-and-count-the-number-of-missing-values-within-each-installation" class="level3">
<h3 class="anchored" data-anchor-id="calcualate-the-average-height-for-each-installation-and-count-the-number-of-missing-values-within-each-installation">Calcualate the average height for each <code>Installation</code> and count the number of missing values within each <code>Installation</code></h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>To count missings, use the functions <code>sum()</code> and <code>is.na()</code></p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Installation) <span class="sc">%&gt;%</span> </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">height_avg =</span> <span class="fu">mean</span>(Heightin, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">height_n_miss =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(Heightin)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="as-before-but-now-also-add-the-number-of-observations-rows-within-each-installation" class="level3">
<h3 class="anchored" data-anchor-id="as-before-but-now-also-add-the-number-of-observations-rows-within-each-installation">As before, but now also add the number of observations (rows) within each <code>Installation</code></h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Use <code>n()</code></p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Installation) <span class="sc">%&gt;%</span> </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">height_avg =</span> <span class="fu">mean</span>(Heightin, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">height_n_miss =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(Heightin)),</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">n =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="as-before-but-now-arrange-the-output-after-number-of-soldiers-at-each-installation-in-descending-order." class="level3">
<h3 class="anchored" data-anchor-id="as-before-but-now-arrange-the-output-after-number-of-soldiers-at-each-installation-in-descending-order.">As before, but now arrange the output after number of soldiers at each <code>Installation</code> in descending order.</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Installation) <span class="sc">%&gt;%</span> </span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">height_avg =</span> <span class="fu">mean</span>(Heightin, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">height_n_miss =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(Heightin)),</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br><br><br><br><br><br><br><br></p>
</section>
</section>
<section id="mutate" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="mutate"><span class="header-section-number">2.5</span> <code>mutate()</code></h2>
<p>Restart R. (Click Session -&gt; Restart R)<br>
Load the <code>tidyverse</code> and the <code>here</code> package</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
Load the <code>soldiers</code>data and assign it to an object called <code>soldiers</code></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="fu">here</span>(<span class="st">"raw_data"</span>, <span class="st">"soldiers.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
</p>
<section id="add-a-column-called-heightcm-with-the-height-of-the-soldiers-in-cm" class="level3">
<h3 class="anchored" data-anchor-id="add-a-column-called-heightcm-with-the-height-of-the-soldiers-in-cm">Add a column called <code>heightcm</code> with the height of the soldiers in cm</h3>
<ul>
<li>Update the <code>soldiers</code> dataset with the new variable</li>
<li>place the new variable after <code>Heightin</code></li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">heightcm =</span> Heightin <span class="sc">*</span> <span class="fl">2.54</span>,</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> Heightin)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
</p>
</section>
<section id="update-the-weightkg-column-to-kg-instead-of-kg10" class="level3">
<h3 class="anchored" data-anchor-id="update-the-weightkg-column-to-kg-instead-of-kg10">Update the <code>weightkg</code> column to kg instead of kg*10</h3>
<ul>
<li>Update the <code>soldiers</code> dataset with the new <code>weightkg</code> column</li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">weightkg =</span> weightkg<span class="sc">/</span><span class="dv">10</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
</p>
</section>
<section id="add-a-column-called-bmi-with-the-body-mass-index-bmi-of-the-soldiers" class="level3">
<h3 class="anchored" data-anchor-id="add-a-column-called-bmi-with-the-body-mass-index-bmi-of-the-soldiers">Add a column called <code>BMI</code> with the Body mass index (BMI) of the soldiers</h3>
<p><a href="https://en.wikipedia.org/wiki/Body_mass_index">BMI</a></p>
<ul>
<li>Update the <code>soldiers</code> dataset to with the new variable</li>
<li>place the new variable after <code>weightkg</code></li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">BMI =</span> weightkg<span class="sc">/</span>(heightcm<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>,</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">.after =</span> weightkg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
</p>
</section>
<section id="add-a-column-called-obese-that-contains-the-value-true-if-bmi-is-30" class="level3">
<h3 class="anchored" data-anchor-id="add-a-column-called-obese-that-contains-the-value-true-if-bmi-is-30">Add a column called <code>obese</code> that contains the value TRUE if BMI is &gt; 30</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">obese =</span> <span class="fu">if_else</span>(BMI <span class="sc">&gt;</span> <span class="dv">30</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>),</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">.before =</span> <span class="dv">1</span> <span class="co"># This line code just places the variable at the front</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="co"># OR</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">obese =</span> BMI <span class="sc">&gt;</span> <span class="dv">30</span>,</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">.before =</span> <span class="dv">1</span> <span class="co"># This line code just places the variable at the front</span></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br>
</p>
</section>
<section id="sec-BMI" class="level3">
<h3 class="anchored" data-anchor-id="sec-BMI">Inspect the below table from <a href="https://en.wikipedia.org/wiki/Body_mass_index">Wikipedia</a></h3>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Category</th>
<th style="text-align: left;">BMI (kg/m<sup>2</sup>)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Underweight (Severe thinness)</td>
<td style="text-align: left;">&lt; 16.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Underweight (Moderate thinness)</td>
<td style="text-align: left;">16.0 – 16.9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Underweight (Mild thinness)</td>
<td style="text-align: left;">17.0 – 18.4</td>
</tr>
<tr class="even">
<td style="text-align: left;">Normal range</td>
<td style="text-align: left;">18.5 – 24.9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Overweight (Pre-obese)</td>
<td style="text-align: left;">25.0 – 29.9</td>
</tr>
<tr class="even">
<td style="text-align: left;">Obese (Class I)</td>
<td style="text-align: left;">30.0 – 34.9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Obese (Class II)</td>
<td style="text-align: left;">35.0 – 39.9</td>
</tr>
<tr class="even">
<td style="text-align: left;">Obese (Class III)</td>
<td style="text-align: left;">&gt;= 40.0</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><br>
</p>
</section>
<section id="create-the-variable-category-that-tells-us-whether-the-soldiers-are-underweight-normal-range-overweight-or-obese" class="level3">
<h3 class="anchored" data-anchor-id="create-the-variable-category-that-tells-us-whether-the-soldiers-are-underweight-normal-range-overweight-or-obese">Create the variable <code>category</code> that tells us whether the soldiers are “Underweight”, “Normal range”, “Overweight”, or “Obese”</h3>
<ul>
<li>Update the <code>soldiers</code> dataset with the new variable</li>
<li>place the new variable after <code>BMI</code><br>
</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint 1
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Use <code>case_when()</code></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint 2
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">category =</span> ????</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint 3
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">category =</span> <span class="fu">case_when</span>(</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>      <span class="co">#TEST HERE ~ OUTPUT, </span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>      <span class="co">#TEST HERE ~ OUTPUT,</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>      <span class="co">#TEST HERE ~ OUTPUT,</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>      <span class="co">#.default = OUTPUT</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">category =</span> <span class="fu">case_when</span>(</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>      BMI <span class="sc">&lt;</span> <span class="fl">18.5</span> <span class="sc">~</span> <span class="st">"Underweight"</span>,</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>      BMI <span class="sc">&lt;</span> <span class="dv">25</span>   <span class="sc">~</span> <span class="st">"Normal range"</span>,</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>      BMI <span class="sc">&lt;</span> <span class="dv">30</span>   <span class="sc">~</span> <span class="st">"Overweight"</span>,</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>      BMI <span class="sc">&gt;=</span> <span class="dv">30</span>  <span class="sc">~</span> <span class="st">"Obese"</span>,</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> <span class="cn">NA</span>),</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> BMI</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br><br><br><br><br><br><br><br></p>
</section>
</section>
<section id="count" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="count"><span class="header-section-number">2.6</span> <code>count()</code></h2>
<p>For simple counting <code>count()</code> is faster than <code>summarise(n = n())</code> or <code>mutate(n = n())</code></p>
<p><br><br></p>
<section id="what-is-this-code-equivalent-to" class="level3">
<h3 class="anchored" data-anchor-id="what-is-this-code-equivalent-to">What is this code equivalent to?</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<details>
<summary>
ANSWER
</summary>
<code>count()</code> works like <code>summarise(n = n())</code>
</details>
<p><br><br></p>
</section>
<section id="what-is-this-code-equivalent-to-1" class="level3">
<h3 class="anchored" data-anchor-id="what-is-this-code-equivalent-to-1">What is this code equivalent to?</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(cut)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Answer</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The code is equivalent to:</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(cut) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>())</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="co"># OR</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(), <span class="at">.by =</span> cut)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br><br></p>
</section>
<section id="what-is-this-code-equivalent-to-2" class="level3">
<h3 class="anchored" data-anchor-id="what-is-this-code-equivalent-to-2">What is this code equivalent to?</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(cut, color)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Answer</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The code is equivalent to:</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(cut, color) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>())</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="co"># OR</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(), <span class="at">.by =</span> <span class="fu">c</span>(cut, color))</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a><span class="co"># However, notice that the first solution returns a grouped tibble</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br><br></p>
</section>
<section id="what-is-this-code-equivalent-to-3" class="level3">
<h3 class="anchored" data-anchor-id="what-is-this-code-equivalent-to-3">What is this code equivalent to?</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> </span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<details>
<summary>
ANSWER
</summary>
<code>add_count()</code> works like <code>mutate(n = n())</code>
</details>
<p><br><br></p>
</section>
<section id="count-the-number-of-diamonds-within-each-type-of-cut-and-calculate-the-percentage-of-each-cut" class="level3">
<h3 class="anchored" data-anchor-id="count-the-number-of-diamonds-within-each-type-of-cut-and-calculate-the-percentage-of-each-cut">Count the number of diamonds within each type of <code>cut</code> and calculate the percentage of each cut</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> </span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(cut) <span class="sc">%&gt;%</span> </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percent =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)<span class="sc">*</span><span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br><br></p>
</section>
<section id="inspect-the-output-of-this-code.-what-is-going-wrong" class="level3">
<h3 class="anchored" data-anchor-id="inspect-the-output-of-this-code.-what-is-going-wrong">Inspect the output of this code. What is going wrong?</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> </span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cut) <span class="sc">%&gt;%</span> </span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percent =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)<span class="sc">*</span><span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
# Groups:   cut [5]
  cut           n percent
  &lt;ord&gt;     &lt;int&gt;   &lt;dbl&gt;
1 Fair       1610     100
2 Good       4906     100
3 Very Good 12082     100
4 Premium   13791     100
5 Ideal     21551     100</code></pre>
</div>
</div>
<script src="https://giscus.app/client.js" data-repo="sorenoneill/r4phd" data-repo-id="R_kgDOJ9etDQ" data-category="Announcements" data-category-id="DIC_kwDOJ9etDc4CYApF" data-mapping="pathname" data-strict="0" data-reactions-enabled="0" data-emit-metadata="0" data-input-position="bottom" data-theme="cobalt" data-lang="en" crossorigin="anonymous" async="">
</script>


<!-- -->

</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="sorenoneill/r4phd" data-repo-id="R_kgDOJ9etDQ" data-category="General" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./day_1_quarto_documents.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">quarto documents</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./day_1_other.html" class="pagination-link">
        <span class="nav-page-text">Other data wrangling functions</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb60" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "dplyr"</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "+  here  and skimr"</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Steen Flammild Harsted"</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> today</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="an">output:</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="co">  distill::distill_article:</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a><span class="co">    self_contained: false</span></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-depth: 2</span></span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a><span class="co">    number-sections: true</span></span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a><span class="co">    number-depth: 2</span></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a><span class="co">    code-summary: "Show the code"</span></span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a><span class="co">  message: false</span></span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-23"><a href="#cb60-23" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb60-24"><a href="#cb60-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-25"><a href="#cb60-25" aria-hidden="true" tabindex="-1"></a><span class="fu"># Getting started</span></span>
<span id="cb60-26"><a href="#cb60-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-27"><a href="#cb60-27" aria-hidden="true" tabindex="-1"></a><span class="fu">## Load the `tidyverse` and the `here` package {.unnumbered}</span></span>
<span id="cb60-28"><a href="#cb60-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-31"><a href="#cb60-31" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-32"><a href="#cb60-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb60-33"><a href="#cb60-33" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb60-34"><a href="#cb60-34" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-35"><a href="#cb60-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-36"><a href="#cb60-36" aria-hidden="true" tabindex="-1"></a>\ </span>
<span id="cb60-37"><a href="#cb60-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-38"><a href="#cb60-38" aria-hidden="true" tabindex="-1"></a><span class="fu">## `here()`</span></span>
<span id="cb60-39"><a href="#cb60-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-40"><a href="#cb60-40" aria-hidden="true" tabindex="-1"></a><span class="fu">### Try out the `here()` function</span></span>
<span id="cb60-41"><a href="#cb60-41" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>What happens if you write <span class="in">`here()`</span> ? </span>
<span id="cb60-42"><a href="#cb60-42" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>What happens if you write <span class="in">`here("raw_data")`</span> ?  </span>
<span id="cb60-43"><a href="#cb60-43" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Compare your output with your neighbors. </span>
<span id="cb60-44"><a href="#cb60-44" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Compare your output with someone who has a different operating system (Windows, Mac, Linux) than you. (Hint: look for <span class="sc">\\</span> /) </span>
<span id="cb60-45"><a href="#cb60-45" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Discuss if and how the <span class="in">`here()`</span>function could ever be of any use to anybody</span>
<span id="cb60-46"><a href="#cb60-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-47"><a href="#cb60-47" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-48"><a href="#cb60-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-49"><a href="#cb60-49" aria-hidden="true" tabindex="-1"></a><span class="fu">### Load the `soldiers` dataset</span></span>
<span id="cb60-50"><a href="#cb60-50" aria-hidden="true" tabindex="-1"></a>Use the function <span class="in">`read_csv2()`</span> \</span>
<span id="cb60-51"><a href="#cb60-51" aria-hidden="true" tabindex="-1"></a>The <span class="in">`file`</span> argument should be <span class="in">`here("raw_data", "soldiers.csv")`</span></span>
<span id="cb60-52"><a href="#cb60-52" aria-hidden="true" tabindex="-1"></a><span class="in">```{r read_csv}</span></span>
<span id="cb60-53"><a href="#cb60-53" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-54"><a href="#cb60-54" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv2</span>(<span class="fu">here</span>(<span class="st">"raw_data"</span>, <span class="st">"soldiers.csv"</span>))</span>
<span id="cb60-55"><a href="#cb60-55" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-56"><a href="#cb60-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-57"><a href="#cb60-57" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-58"><a href="#cb60-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-59"><a href="#cb60-59" aria-hidden="true" tabindex="-1"></a><span class="fu">### Assign the `soldiers` dataset to an object called `soldiers`</span></span>
<span id="cb60-60"><a href="#cb60-60" aria-hidden="true" tabindex="-1"></a>Great, now read the data again and assign it (remember <span class="in">`&lt;-`</span>) to an object called <span class="in">`soldiers`</span></span>
<span id="cb60-61"><a href="#cb60-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-64"><a href="#cb60-64" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-65"><a href="#cb60-65" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="fu">here</span>(<span class="st">"raw_data"</span>, <span class="st">"soldiers.csv"</span>))</span>
<span id="cb60-66"><a href="#cb60-66" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-67"><a href="#cb60-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-68"><a href="#cb60-68" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-69"><a href="#cb60-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-70"><a href="#cb60-70" aria-hidden="true" tabindex="-1"></a><span class="fu">## `skim()` </span></span>
<span id="cb60-71"><a href="#cb60-71" aria-hidden="true" tabindex="-1"></a>There are many ways to explore a dataframe. In this course we will take a shortcut and use the <span class="in">`skim()`</span> function from the <span class="in">`skimr`</span> package.</span>
<span id="cb60-72"><a href="#cb60-72" aria-hidden="true" tabindex="-1"></a>The <span class="in">`skim()`</span> function provides an exellent overview of a dataframe.  </span>
<span id="cb60-73"><a href="#cb60-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-74"><a href="#cb60-74" aria-hidden="true" tabindex="-1"></a>Load the <span class="in">`skimr`</span> package and use the <span class="in">`skim()`</span> function to get an impression of the <span class="in">`soldiers`</span> dataset.  </span>
<span id="cb60-75"><a href="#cb60-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-76"><a href="#cb60-76" aria-hidden="true" tabindex="-1"></a>Discuss with your neighbor:</span>
<span id="cb60-77"><a href="#cb60-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-78"><a href="#cb60-78" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Nr of rows?</span>
<span id="cb60-79"><a href="#cb60-79" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Nr of columns?</span>
<span id="cb60-80"><a href="#cb60-80" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Missing values?</span>
<span id="cb60-81"><a href="#cb60-81" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Types of variables?</span>
<span id="cb60-82"><a href="#cb60-82" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>How many unique values does the different character variables have?  </span>
<span id="cb60-83"><a href="#cb60-83" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Any fake data? *(hint: Yes, for educational purposes I have added some fake data)*</span>
<span id="cb60-84"><a href="#cb60-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-87"><a href="#cb60-87" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-88"><a href="#cb60-88" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-89"><a href="#cb60-89" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb60-90"><a href="#cb60-90" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(soldiers)</span>
<span id="cb60-91"><a href="#cb60-91" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-92"><a href="#cb60-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-93"><a href="#cb60-93" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb60-94"><a href="#cb60-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-95"><a href="#cb60-95" aria-hidden="true" tabindex="-1"></a><span class="fu"># `dplyr`</span></span>
<span id="cb60-96"><a href="#cb60-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-97"><a href="#cb60-97" aria-hidden="true" tabindex="-1"></a>The main functions of dplyr that you will practice today are:</span>
<span id="cb60-98"><a href="#cb60-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-99"><a href="#cb60-99" aria-hidden="true" tabindex="-1"></a><span class="ss">*  </span><span class="in">`select()`</span></span>
<span id="cb60-100"><a href="#cb60-100" aria-hidden="true" tabindex="-1"></a><span class="ss">*  </span><span class="in">`filter()`</span></span>
<span id="cb60-101"><a href="#cb60-101" aria-hidden="true" tabindex="-1"></a><span class="ss">*  </span><span class="in">`summarise()`</span></span>
<span id="cb60-102"><a href="#cb60-102" aria-hidden="true" tabindex="-1"></a><span class="ss">*  </span><span class="in">`group_by()`</span> </span>
<span id="cb60-103"><a href="#cb60-103" aria-hidden="true" tabindex="-1"></a><span class="ss">*  </span><span class="in">`arrange()`</span></span>
<span id="cb60-104"><a href="#cb60-104" aria-hidden="true" tabindex="-1"></a><span class="ss">*  </span><span class="in">`mutate()`</span></span>
<span id="cb60-105"><a href="#cb60-105" aria-hidden="true" tabindex="-1"></a><span class="ss">*  </span><span class="in">`count()`</span></span>
<span id="cb60-106"><a href="#cb60-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-107"><a href="#cb60-107" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb60-108"><a href="#cb60-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-109"><a href="#cb60-109" aria-hidden="true" tabindex="-1"></a><span class="fu">## `select()`</span></span>
<span id="cb60-110"><a href="#cb60-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-111"><a href="#cb60-111" aria-hidden="true" tabindex="-1"></a><span class="fu">### select the columns `subjectid`, `sex`, `age`</span></span>
<span id="cb60-114"><a href="#cb60-114" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-115"><a href="#cb60-115" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-116"><a href="#cb60-116" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-117"><a href="#cb60-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(subjectid, sex, age)</span>
<span id="cb60-118"><a href="#cb60-118" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-119"><a href="#cb60-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-120"><a href="#cb60-120" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-121"><a href="#cb60-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-122"><a href="#cb60-122" aria-hidden="true" tabindex="-1"></a><span class="fu">### select the columns 1, 3, 5:7</span></span>
<span id="cb60-123"><a href="#cb60-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-126"><a href="#cb60-126" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-127"><a href="#cb60-127" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-128"><a href="#cb60-128" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-129"><a href="#cb60-129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span><span class="sc">:</span><span class="dv">7</span>)</span>
<span id="cb60-130"><a href="#cb60-130" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-131"><a href="#cb60-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-132"><a href="#cb60-132" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-133"><a href="#cb60-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-134"><a href="#cb60-134" aria-hidden="true" tabindex="-1"></a><span class="fu">### remove the columns 3:5</span></span>
<span id="cb60-135"><a href="#cb60-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-138"><a href="#cb60-138" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-139"><a href="#cb60-139" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-140"><a href="#cb60-140" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-141"><a href="#cb60-141" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>))</span>
<span id="cb60-142"><a href="#cb60-142" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-143"><a href="#cb60-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-144"><a href="#cb60-144" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-145"><a href="#cb60-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-146"><a href="#cb60-146" aria-hidden="true" tabindex="-1"></a><span class="fu">### select all columns that contains the word "circumference"</span></span>
<span id="cb60-147"><a href="#cb60-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-148"><a href="#cb60-148" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip collapse=true}</span>
<span id="cb60-149"><a href="#cb60-149" aria-hidden="true" tabindex="-1"></a><span class="fu">#### HINT</span></span>
<span id="cb60-150"><a href="#cb60-150" aria-hidden="true" tabindex="-1"></a>Use one of the <span class="co">[</span><span class="ot">tidyselect</span><span class="co">](https://tidyselect.r-lib.org/reference/language.html)</span> helper functions.</span>
<span id="cb60-151"><a href="#cb60-151" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb60-152"><a href="#cb60-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-153"><a href="#cb60-153" aria-hidden="true" tabindex="-1"></a><span class="in">```{r soldiers_6}</span></span>
<span id="cb60-154"><a href="#cb60-154" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-155"><a href="#cb60-155" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-156"><a href="#cb60-156" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"circumference"</span>))</span>
<span id="cb60-157"><a href="#cb60-157" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-158"><a href="#cb60-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-159"><a href="#cb60-159" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-160"><a href="#cb60-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-161"><a href="#cb60-161" aria-hidden="true" tabindex="-1"></a><span class="fu">### remove all columns containing the letter "c"</span></span>
<span id="cb60-162"><a href="#cb60-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-163"><a href="#cb60-163" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip collapse=true}</span>
<span id="cb60-164"><a href="#cb60-164" aria-hidden="true" tabindex="-1"></a><span class="fu">#### HINT</span></span>
<span id="cb60-165"><a href="#cb60-165" aria-hidden="true" tabindex="-1"></a>Use one of the <span class="co">[</span><span class="ot">tidyselect</span><span class="co">](https://tidyselect.r-lib.org/reference/language.html)</span> helper functions.  </span>
<span id="cb60-166"><a href="#cb60-166" aria-hidden="true" tabindex="-1"></a>Use a minus sign.  </span>
<span id="cb60-167"><a href="#cb60-167" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb60-168"><a href="#cb60-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-169"><a href="#cb60-169" aria-hidden="true" tabindex="-1"></a><span class="in">```{r soldiers_7}</span></span>
<span id="cb60-170"><a href="#cb60-170" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-171"><a href="#cb60-171" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-172"><a href="#cb60-172" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">contains</span>(<span class="st">"c"</span>))</span>
<span id="cb60-173"><a href="#cb60-173" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-174"><a href="#cb60-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-175"><a href="#cb60-175" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-176"><a href="#cb60-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-177"><a href="#cb60-177" aria-hidden="true" tabindex="-1"></a><span class="fu">### select all columns that contains a "c" OR "x" OR "y" OR "z"</span></span>
<span id="cb60-178"><a href="#cb60-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-179"><a href="#cb60-179" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip collapse=true}</span>
<span id="cb60-180"><a href="#cb60-180" aria-hidden="true" tabindex="-1"></a><span class="fu">#### HINT</span></span>
<span id="cb60-181"><a href="#cb60-181" aria-hidden="true" tabindex="-1"></a>In R(and many other programming languages) the \| sign is used as a logical operator for OR.</span>
<span id="cb60-182"><a href="#cb60-182" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb60-183"><a href="#cb60-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-184"><a href="#cb60-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-187"><a href="#cb60-187" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-188"><a href="#cb60-188" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-189"><a href="#cb60-189" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-190"><a href="#cb60-190" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"c"</span>) <span class="sc">|</span> <span class="fu">contains</span>(<span class="st">"x"</span>) <span class="sc">|</span> <span class="fu">contains</span>(<span class="st">"y"</span>) <span class="sc">|</span> <span class="fu">contains</span>(<span class="st">"z"</span>))</span>
<span id="cb60-191"><a href="#cb60-191" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-192"><a href="#cb60-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-193"><a href="#cb60-193" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-194"><a href="#cb60-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-195"><a href="#cb60-195" aria-hidden="true" tabindex="-1"></a><span class="fu">### select all columns that contains a "c" OR "x" OR "y" OR "z"</span></span>
<span id="cb60-196"><a href="#cb60-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-197"><a href="#cb60-197" aria-hidden="true" tabindex="-1"></a>This time use the <span class="co">[</span><span class="ot">tidyselect</span><span class="co">](https://tidyselect.r-lib.org/reference/language.html)</span> helper function called <span class="in">`matches()`</span>\</span>
<span id="cb60-198"><a href="#cb60-198" aria-hidden="true" tabindex="-1"></a><span class="in">`matches()`</span> allows you to use logical operators inside the function. E.g., <span class="in">`matches("this|that")`</span></span>
<span id="cb60-199"><a href="#cb60-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-200"><a href="#cb60-200" aria-hidden="true" tabindex="-1"></a><span class="in">```{r soldiers_8}</span></span>
<span id="cb60-201"><a href="#cb60-201" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-202"><a href="#cb60-202" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-203"><a href="#cb60-203" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">"c|x|y|z"</span>))</span>
<span id="cb60-204"><a href="#cb60-204" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-205"><a href="#cb60-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-206"><a href="#cb60-206" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-207"><a href="#cb60-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-208"><a href="#cb60-208" aria-hidden="true" tabindex="-1"></a><span class="fu">### Challenge: Why not always use `matches()`?</span></span>
<span id="cb60-209"><a href="#cb60-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-210"><a href="#cb60-210" aria-hidden="true" tabindex="-1"></a>Use the preloaded <span class="in">`iris`</span> data-set. (just write <span class="in">`iris`</span>)\</span>
<span id="cb60-211"><a href="#cb60-211" aria-hidden="true" tabindex="-1"></a>Try to use <span class="in">`matches()`</span> to select all columns containing a "."</span>
<span id="cb60-212"><a href="#cb60-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-215"><a href="#cb60-215" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-216"><a href="#cb60-216" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-217"><a href="#cb60-217" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> </span>
<span id="cb60-218"><a href="#cb60-218" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">"."</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb60-219"><a href="#cb60-219" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="co"># This line is just to prevent a very long output.</span></span>
<span id="cb60-220"><a href="#cb60-220" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-221"><a href="#cb60-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-222"><a href="#cb60-222" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-223"><a href="#cb60-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-224"><a href="#cb60-224" aria-hidden="true" tabindex="-1"></a>Why did we select the <span class="in">`Species`</span> column?\</span>
<span id="cb60-225"><a href="#cb60-225" aria-hidden="true" tabindex="-1"></a>What happens if we use <span class="in">`contains()`</span> instead</span>
<span id="cb60-226"><a href="#cb60-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-229"><a href="#cb60-229" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-230"><a href="#cb60-230" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-231"><a href="#cb60-231" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> </span>
<span id="cb60-232"><a href="#cb60-232" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"."</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb60-233"><a href="#cb60-233" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="co"># This line is just to prevent a very long output.</span></span>
<span id="cb60-234"><a href="#cb60-234" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-235"><a href="#cb60-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-236"><a href="#cb60-236" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-237"><a href="#cb60-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-238"><a href="#cb60-238" aria-hidden="true" tabindex="-1"></a>What is the difference in the output? Why is it different?</span>
<span id="cb60-239"><a href="#cb60-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-240"><a href="#cb60-240" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;details&gt;&lt;summary&gt;</span>ANSWER<span class="kw">&lt;/summary&gt;</span></span>
<span id="cb60-241"><a href="#cb60-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-242"><a href="#cb60-242" aria-hidden="true" tabindex="-1"></a><span class="in">`contains()`</span>: Contains a literal string.\</span>
<span id="cb60-243"><a href="#cb60-243" aria-hidden="true" tabindex="-1"></a><span class="in">`matches()`</span>: Matches a <span class="co">[</span><span class="ot">regular expression</span><span class="co">](https://en.wikipedia.org/wiki/Regular_expression)</span>.\</span>
<span id="cb60-244"><a href="#cb60-244" aria-hidden="true" tabindex="-1"></a>In regular expressions <span class="in">`.`</span> is a wildcard.</span>
<span id="cb60-245"><a href="#cb60-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-246"><a href="#cb60-246" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; The wildcard . matches any character. For example, a.b matches any string that contains an "a", and then any character and then "b"; and a.</span><span class="sc">\*</span><span class="at">b matches any string that contains an "a", and then the character "b" at some later point.\</span></span>
<span id="cb60-247"><a href="#cb60-247" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; </span><span class="co">[</span><span class="ot">*https://en.wikipedia.org/wiki/Regular_expression*</span><span class="co">](https://en.wikipedia.org/wiki/Regular_expression)</span><span class="at">{.uri}</span></span>
<span id="cb60-248"><a href="#cb60-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-249"><a href="#cb60-249" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/details&gt;</span></span>
<span id="cb60-250"><a href="#cb60-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-251"><a href="#cb60-251" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb60-252"><a href="#cb60-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-253"><a href="#cb60-253" aria-hidden="true" tabindex="-1"></a><span class="fu">## `filter()`</span></span>
<span id="cb60-254"><a href="#cb60-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-255"><a href="#cb60-255" aria-hidden="true" tabindex="-1"></a>Restart R. (Click Session -&gt; Restart R)\</span>
<span id="cb60-256"><a href="#cb60-256" aria-hidden="true" tabindex="-1"></a>Load the <span class="in">`tidyverse`</span> and the <span class="in">`here`</span> package</span>
<span id="cb60-257"><a href="#cb60-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-260"><a href="#cb60-260" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-261"><a href="#cb60-261" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb60-262"><a href="#cb60-262" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb60-263"><a href="#cb60-263" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-264"><a href="#cb60-264" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-265"><a href="#cb60-265" aria-hidden="true" tabindex="-1"></a>Load the <span class="in">`soldiers `</span>data and assign it to an object called <span class="in">`soldiers`</span></span>
<span id="cb60-268"><a href="#cb60-268" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-269"><a href="#cb60-269" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="fu">here</span>(<span class="st">"raw_data"</span>, <span class="st">"soldiers.csv"</span>))</span>
<span id="cb60-270"><a href="#cb60-270" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-271"><a href="#cb60-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-272"><a href="#cb60-272" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-273"><a href="#cb60-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-274"><a href="#cb60-274" aria-hidden="true" tabindex="-1"></a><span class="fu">### Keep all rows where `sex` is Female:</span></span>
<span id="cb60-275"><a href="#cb60-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-276"><a href="#cb60-276" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip collapse=true}</span>
<span id="cb60-277"><a href="#cb60-277" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Hint</span></span>
<span id="cb60-278"><a href="#cb60-278" aria-hidden="true" tabindex="-1"></a><span class="in">`???? == "Female"`</span></span>
<span id="cb60-279"><a href="#cb60-279" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb60-280"><a href="#cb60-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-283"><a href="#cb60-283" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-284"><a href="#cb60-284" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-285"><a href="#cb60-285" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"Female"</span>)</span>
<span id="cb60-286"><a href="#cb60-286" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-287"><a href="#cb60-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-288"><a href="#cb60-288" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-289"><a href="#cb60-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-290"><a href="#cb60-290" aria-hidden="true" tabindex="-1"></a><span class="fu">### Keep all rows where `weightkg` is missing (NA value)</span></span>
<span id="cb60-291"><a href="#cb60-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-292"><a href="#cb60-292" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip collapse=true}</span>
<span id="cb60-293"><a href="#cb60-293" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Hint</span></span>
<span id="cb60-294"><a href="#cb60-294" aria-hidden="true" tabindex="-1"></a>use the <span class="in">`is.na()`</span> function</span>
<span id="cb60-295"><a href="#cb60-295" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb60-296"><a href="#cb60-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-299"><a href="#cb60-299" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-300"><a href="#cb60-300" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-301"><a href="#cb60-301" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-302"><a href="#cb60-302" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(weightkg))</span>
<span id="cb60-303"><a href="#cb60-303" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-304"><a href="#cb60-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-305"><a href="#cb60-305" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-306"><a href="#cb60-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-307"><a href="#cb60-307" aria-hidden="true" tabindex="-1"></a><span class="fu">### Keep all rows where `WritingPreference` is "Left hand" AND `sex` is "Female"</span></span>
<span id="cb60-308"><a href="#cb60-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-311"><a href="#cb60-311" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-312"><a href="#cb60-312" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-313"><a href="#cb60-313" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-314"><a href="#cb60-314" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(WritingPreference <span class="sc">==</span> <span class="st">"Left hand"</span> ,  sex <span class="sc">==</span> <span class="st">"Female"</span>)  <span class="co"># you can use &amp; instead of a ,</span></span>
<span id="cb60-315"><a href="#cb60-315" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-316"><a href="#cb60-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-317"><a href="#cb60-317" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-318"><a href="#cb60-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-319"><a href="#cb60-319" aria-hidden="true" tabindex="-1"></a><span class="fu">### Keep all rows where `WritingPreference` is "Left hand" OR `sex` is "Female"</span></span>
<span id="cb60-320"><a href="#cb60-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-323"><a href="#cb60-323" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-324"><a href="#cb60-324" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-325"><a href="#cb60-325" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-326"><a href="#cb60-326" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(WritingPreference <span class="sc">==</span> <span class="st">"Left hand"</span> <span class="sc">|</span>  sex <span class="sc">==</span> <span class="st">"Female"</span>)  </span>
<span id="cb60-327"><a href="#cb60-327" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-328"><a href="#cb60-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-329"><a href="#cb60-329" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-330"><a href="#cb60-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-331"><a href="#cb60-331" aria-hidden="true" tabindex="-1"></a><span class="fu">### What is going wrong in this code?</span></span>
<span id="cb60-332"><a href="#cb60-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-335"><a href="#cb60-335" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-336"><a href="#cb60-336" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-337"><a href="#cb60-337" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb60-338"><a href="#cb60-338" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-339"><a href="#cb60-339" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb60-340"><a href="#cb60-340" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(WritingPreference <span class="sc">==</span> <span class="st">"Left hand"</span> <span class="sc">|</span>  sex <span class="sc">==</span> <span class="st">"Female"</span>)  </span>
<span id="cb60-341"><a href="#cb60-341" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-342"><a href="#cb60-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-343"><a href="#cb60-343" aria-hidden="true" tabindex="-1"></a>The error message is:</span>
<span id="cb60-346"><a href="#cb60-346" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-347"><a href="#cb60-347" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-348"><a href="#cb60-348" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb60-349"><a href="#cb60-349" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="st">`</span><span class="at">filter()</span><span class="st">`</span><span class="sc">:</span></span>
<span id="cb60-350"><a href="#cb60-350" aria-hidden="true" tabindex="-1"></a>ℹ In argument<span class="sc">:</span> <span class="st">`</span><span class="at">WritingPreference == "Left hand" | sex == "Female"</span><span class="st">`</span>.</span>
<span id="cb60-351"><a href="#cb60-351" aria-hidden="true" tabindex="-1"></a>Caused by error<span class="sc">:</span></span>
<span id="cb60-352"><a href="#cb60-352" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span> object <span class="st">'WritingPreference'</span> not found</span>
<span id="cb60-353"><a href="#cb60-353" aria-hidden="true" tabindex="-1"></a>Run <span class="st">`</span><span class="at">rlang::last_error()</span><span class="st">`</span> to see where the error occurred.</span>
<span id="cb60-354"><a href="#cb60-354" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-355"><a href="#cb60-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-358"><a href="#cb60-358" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-359"><a href="#cb60-359" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-360"><a href="#cb60-360" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "ANSWER"</span></span>
<span id="cb60-361"><a href="#cb60-361" aria-hidden="true" tabindex="-1"></a>The variable WritingPreference was not selected <span class="cf">in</span> the first line.</span>
<span id="cb60-362"><a href="#cb60-362" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-363"><a href="#cb60-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-364"><a href="#cb60-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-365"><a href="#cb60-365" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-366"><a href="#cb60-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-367"><a href="#cb60-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-368"><a href="#cb60-368" aria-hidden="true" tabindex="-1"></a><span class="fu">### Keep all rows where `age` is above 30 and the `weightkg` is below 600</span></span>
<span id="cb60-371"><a href="#cb60-371" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-372"><a href="#cb60-372" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-373"><a href="#cb60-373" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-374"><a href="#cb60-374" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">&gt;</span> <span class="dv">30</span>, weightkg <span class="sc">&lt;</span> <span class="dv">600</span>)</span>
<span id="cb60-375"><a href="#cb60-375" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-376"><a href="#cb60-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-377"><a href="#cb60-377" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-378"><a href="#cb60-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-379"><a href="#cb60-379" aria-hidden="true" tabindex="-1"></a><span class="fu">### Keep all rows where `Ethnicity` is either "Mexican" OR "Filipino" OR "Caribbean Islander"</span></span>
<span id="cb60-380"><a href="#cb60-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-381"><a href="#cb60-381" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip collapse=true}</span>
<span id="cb60-382"><a href="#cb60-382" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Hint</span></span>
<span id="cb60-383"><a href="#cb60-383" aria-hidden="true" tabindex="-1"></a>you need to use <span class="in">`%in%`</span> and <span class="in">`c()`</span></span>
<span id="cb60-384"><a href="#cb60-384" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb60-385"><a href="#cb60-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-388"><a href="#cb60-388" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-389"><a href="#cb60-389" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-390"><a href="#cb60-390" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-391"><a href="#cb60-391" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Ethnicity <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Mexican"</span>, <span class="st">"Filipino"</span>, <span class="st">"Caribbean Islander"</span>))</span>
<span id="cb60-392"><a href="#cb60-392" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-393"><a href="#cb60-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-394"><a href="#cb60-394" aria-hidden="true" tabindex="-1"></a>::: {.callout-caution collapse=true}</span>
<span id="cb60-395"><a href="#cb60-395" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Difference between `==` and `%in%`</span></span>
<span id="cb60-396"><a href="#cb60-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-397"><a href="#cb60-397" aria-hidden="true" tabindex="-1"></a>tldr - Use <span class="in">`%in%`</span> instead of <span class="in">`==`</span> when you want to filter for multiple values.  </span>
<span id="cb60-398"><a href="#cb60-398" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb60-399"><a href="#cb60-399" aria-hidden="true" tabindex="-1"></a>Read on if you want to understand why.  (You don't have to)</span>
<span id="cb60-400"><a href="#cb60-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-401"><a href="#cb60-401" aria-hidden="true" tabindex="-1"></a>The code <span class="in">`filter(Ethnicity == c("Mexican", "Filipino"))`</span> is likely not doing what you expect. The '==' operator does an element-wise comparison, which means it compares the first element of 'Ethnicity' to the first element of the vector ("Mexican"), the second element of 'Ethnicity' to the second element of the vector ("Filipino"). The short vector is then recycled so now the third element of 'Ethnicity' is compared to the first element of the vector ("Mexican"), the fourth element of 'Ethnicity' to the second element of the vector ("Filipino"), and so on.</span>
<span id="cb60-402"><a href="#cb60-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-403"><a href="#cb60-403" aria-hidden="true" tabindex="-1"></a>Inspect the differences in how may rows these lines of code produce</span>
<span id="cb60-404"><a href="#cb60-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-407"><a href="#cb60-407" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-408"><a href="#cb60-408" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb60-409"><a href="#cb60-409" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-410"><a href="#cb60-410" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-411"><a href="#cb60-411" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Ethnicity <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Mexican"</span>, <span class="st">"Filipino"</span>))</span>
<span id="cb60-412"><a href="#cb60-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-413"><a href="#cb60-413" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-414"><a href="#cb60-414" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Ethnicity <span class="sc">==</span> <span class="fu">c</span>(<span class="st">"Mexican"</span>, <span class="st">"Filipino"</span>))</span>
<span id="cb60-415"><a href="#cb60-415" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-416"><a href="#cb60-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-417"><a href="#cb60-417" aria-hidden="true" tabindex="-1"></a>Run this code chunk line by line. Inspect the differences. </span>
<span id="cb60-418"><a href="#cb60-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-421"><a href="#cb60-421" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-422"><a href="#cb60-422" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb60-423"><a href="#cb60-423" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-424"><a href="#cb60-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-425"><a href="#cb60-425" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame</span></span>
<span id="cb60-426"><a href="#cb60-426" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb60-427"><a href="#cb60-427" aria-hidden="true" tabindex="-1"></a>  <span class="at">Ethnicity =</span> <span class="fu">c</span>(<span class="st">"Mexican"</span>, <span class="st">"Filipino"</span>, <span class="st">"Italian"</span>, <span class="st">"Mexican"</span>, <span class="st">"Italian"</span>, <span class="st">"Filipino"</span>),</span>
<span id="cb60-428"><a href="#cb60-428" aria-hidden="true" tabindex="-1"></a>  <span class="at">Name =</span> <span class="fu">c</span>(<span class="st">"John"</span>, <span class="st">"Maria"</span>, <span class="st">"Luigi"</span>, <span class="st">"Carlos"</span>, <span class="st">"Francesco"</span>, <span class="st">"Jose"</span>),</span>
<span id="cb60-429"><a href="#cb60-429" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb60-430"><a href="#cb60-430" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb60-431"><a href="#cb60-431" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-432"><a href="#cb60-432" aria-hidden="true" tabindex="-1"></a><span class="co"># Investigate the data frame</span></span>
<span id="cb60-433"><a href="#cb60-433" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb60-434"><a href="#cb60-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-435"><a href="#cb60-435" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter using %in%</span></span>
<span id="cb60-436"><a href="#cb60-436" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Ethnicity <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Mexican"</span>, <span class="st">"Filipino"</span>))</span>
<span id="cb60-437"><a href="#cb60-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-438"><a href="#cb60-438" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter using ==</span></span>
<span id="cb60-439"><a href="#cb60-439" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Ethnicity <span class="sc">==</span> <span class="fu">c</span>(<span class="st">"Mexican"</span>, <span class="st">"Filipino"</span>))</span>
<span id="cb60-440"><a href="#cb60-440" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-441"><a href="#cb60-441" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb60-442"><a href="#cb60-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-443"><a href="#cb60-443" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb60-444"><a href="#cb60-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-445"><a href="#cb60-445" aria-hidden="true" tabindex="-1"></a><span class="fu">## `summarise()`</span></span>
<span id="cb60-446"><a href="#cb60-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-447"><a href="#cb60-447" aria-hidden="true" tabindex="-1"></a>Restart R. (Click Session -&gt; Restart R)\</span>
<span id="cb60-448"><a href="#cb60-448" aria-hidden="true" tabindex="-1"></a>Load the <span class="in">`tidyverse`</span> and the <span class="in">`here`</span> package</span>
<span id="cb60-449"><a href="#cb60-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-452"><a href="#cb60-452" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-453"><a href="#cb60-453" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb60-454"><a href="#cb60-454" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb60-455"><a href="#cb60-455" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-456"><a href="#cb60-456" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-457"><a href="#cb60-457" aria-hidden="true" tabindex="-1"></a>Load the <span class="in">`soldiers `</span>data and assign it to an object called <span class="in">`soldiers`</span></span>
<span id="cb60-460"><a href="#cb60-460" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-461"><a href="#cb60-461" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="fu">here</span>(<span class="st">"raw_data"</span>, <span class="st">"soldiers.csv"</span>))</span>
<span id="cb60-462"><a href="#cb60-462" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-463"><a href="#cb60-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-464"><a href="#cb60-464" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-465"><a href="#cb60-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-466"><a href="#cb60-466" aria-hidden="true" tabindex="-1"></a><span class="fu">### Calculate the mean and standard deviation of `footlength`</span></span>
<span id="cb60-467"><a href="#cb60-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-470"><a href="#cb60-470" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-471"><a href="#cb60-471" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-472"><a href="#cb60-472" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb60-473"><a href="#cb60-473" aria-hidden="true" tabindex="-1"></a>  <span class="at">footlength_avg =</span> <span class="fu">mean</span>(footlength),</span>
<span id="cb60-474"><a href="#cb60-474" aria-hidden="true" tabindex="-1"></a>  <span class="at">footlength_sd =</span> <span class="fu">sd</span>(footlength))</span>
<span id="cb60-475"><a href="#cb60-475" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-476"><a href="#cb60-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-477"><a href="#cb60-477" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-478"><a href="#cb60-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-479"><a href="#cb60-479" aria-hidden="true" tabindex="-1"></a><span class="fu">### Calculate the median and interquartile range of `earlength`</span></span>
<span id="cb60-480"><a href="#cb60-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-481"><a href="#cb60-481" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;details&gt;&lt;summary&gt;</span>HINT<span class="kw">&lt;/summary&gt;</span></span>
<span id="cb60-482"><a href="#cb60-482" aria-hidden="true" tabindex="-1"></a>use the <span class="in">`IQR()`</span> function</span>
<span id="cb60-483"><a href="#cb60-483" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/details&gt;</span></span>
<span id="cb60-484"><a href="#cb60-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-487"><a href="#cb60-487" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-488"><a href="#cb60-488" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-489"><a href="#cb60-489" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-490"><a href="#cb60-490" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb60-491"><a href="#cb60-491" aria-hidden="true" tabindex="-1"></a>    <span class="at">earlength_median =</span> <span class="fu">median</span>(earlength),</span>
<span id="cb60-492"><a href="#cb60-492" aria-hidden="true" tabindex="-1"></a>    <span class="at">earlength_iqr =</span> <span class="fu">IQR</span>(earlength))</span>
<span id="cb60-493"><a href="#cb60-493" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-494"><a href="#cb60-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-495"><a href="#cb60-495" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-496"><a href="#cb60-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-497"><a href="#cb60-497" aria-hidden="true" tabindex="-1"></a><span class="fu">### Count the number of rows where `WritingPreference` is equal to "Right hand"</span></span>
<span id="cb60-498"><a href="#cb60-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-501"><a href="#cb60-501" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-502"><a href="#cb60-502" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-503"><a href="#cb60-503" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span>  </span>
<span id="cb60-504"><a href="#cb60-504" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb60-505"><a href="#cb60-505" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_righthanded =</span> <span class="fu">sum</span>(WritingPreference <span class="sc">==</span> <span class="st">"Right hand"</span>))</span>
<span id="cb60-506"><a href="#cb60-506" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-507"><a href="#cb60-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-508"><a href="#cb60-508" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-509"><a href="#cb60-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-510"><a href="#cb60-510" aria-hidden="true" tabindex="-1"></a><span class="fu">### How old is the oldest soldier?</span></span>
<span id="cb60-511"><a href="#cb60-511" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;details&gt;</span></span>
<span id="cb60-512"><a href="#cb60-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-513"><a href="#cb60-513" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;summary&gt;</span></span>
<span id="cb60-514"><a href="#cb60-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-515"><a href="#cb60-515" aria-hidden="true" tabindex="-1"></a>HINT if you can't work out why get an <span class="in">`NA`</span> value</span>
<span id="cb60-516"><a href="#cb60-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-517"><a href="#cb60-517" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/summary&gt;</span></span>
<span id="cb60-518"><a href="#cb60-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-519"><a href="#cb60-519" aria-hidden="true" tabindex="-1"></a>Many Base R functions, including <span class="in">`mean()`</span>, does not ignore NA values by default. This means that if the vector contains an <span class="in">`NA`</span> value the result will be <span class="in">`NA`</span>. Is this a good or bad thing?\</span>
<span id="cb60-520"><a href="#cb60-520" aria-hidden="true" tabindex="-1"></a>You can set the argument <span class="in">`na.rm = TRUE`</span>, to ignore missing values.</span>
<span id="cb60-521"><a href="#cb60-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-522"><a href="#cb60-522" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/details&gt;</span></span>
<span id="cb60-523"><a href="#cb60-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-526"><a href="#cb60-526" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-527"><a href="#cb60-527" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-528"><a href="#cb60-528" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-529"><a href="#cb60-529" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb60-530"><a href="#cb60-530" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_max =</span> <span class="fu">max</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb60-531"><a href="#cb60-531" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-532"><a href="#cb60-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-533"><a href="#cb60-533" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-534"><a href="#cb60-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-535"><a href="#cb60-535" aria-hidden="true" tabindex="-1"></a><span class="fu">### Calculate the mean weight of the Females</span></span>
<span id="cb60-536"><a href="#cb60-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-537"><a href="#cb60-537" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;details&gt;</span></span>
<span id="cb60-538"><a href="#cb60-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-539"><a href="#cb60-539" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;summary&gt;</span></span>
<span id="cb60-540"><a href="#cb60-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-541"><a href="#cb60-541" aria-hidden="true" tabindex="-1"></a>HINT if you can't work out why get an <span class="in">`NA`</span> value</span>
<span id="cb60-542"><a href="#cb60-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-543"><a href="#cb60-543" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/summary&gt;</span></span>
<span id="cb60-544"><a href="#cb60-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-545"><a href="#cb60-545" aria-hidden="true" tabindex="-1"></a>Many Base R functions, including <span class="in">`mean()`</span>, does not ignore NA values by default. This means that if the vector contains an <span class="in">`NA`</span> value the result will be <span class="in">`NA`</span>. Is this a good or bad thing?\</span>
<span id="cb60-546"><a href="#cb60-546" aria-hidden="true" tabindex="-1"></a>You can set the argument <span class="in">`na.rm = TRUE`</span>, to ignore missing values.</span>
<span id="cb60-547"><a href="#cb60-547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-548"><a href="#cb60-548" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/details&gt;</span></span>
<span id="cb60-549"><a href="#cb60-549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-552"><a href="#cb60-552" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-553"><a href="#cb60-553" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-554"><a href="#cb60-554" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-555"><a href="#cb60-555" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"Female"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb60-556"><a href="#cb60-556" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb60-557"><a href="#cb60-557" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight_avg =</span> <span class="fu">mean</span>(weightkg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb60-558"><a href="#cb60-558" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-559"><a href="#cb60-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-560"><a href="#cb60-560" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-561"><a href="#cb60-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-562"><a href="#cb60-562" aria-hidden="true" tabindex="-1"></a><span class="fu">### Calculate the range in weight (max-min) within Males</span></span>
<span id="cb60-563"><a href="#cb60-563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-566"><a href="#cb60-566" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-567"><a href="#cb60-567" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-568"><a href="#cb60-568" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-569"><a href="#cb60-569" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"Male"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb60-570"><a href="#cb60-570" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb60-571"><a href="#cb60-571" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight_range =</span> <span class="fu">max</span>(weightkg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">-</span><span class="fu">min</span>(weightkg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb60-572"><a href="#cb60-572" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-573"><a href="#cb60-573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-574"><a href="#cb60-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-575"><a href="#cb60-575" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb60-576"><a href="#cb60-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-577"><a href="#cb60-577" aria-hidden="true" tabindex="-1"></a><span class="fu">## `group_by()` and `arrange()`</span></span>
<span id="cb60-578"><a href="#cb60-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-579"><a href="#cb60-579" aria-hidden="true" tabindex="-1"></a>Restart R. (Click Session -&gt; Restart R)\</span>
<span id="cb60-580"><a href="#cb60-580" aria-hidden="true" tabindex="-1"></a>Load the <span class="in">`tidyverse`</span> and the <span class="in">`here`</span> package</span>
<span id="cb60-581"><a href="#cb60-581" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-584"><a href="#cb60-584" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-585"><a href="#cb60-585" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb60-586"><a href="#cb60-586" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb60-587"><a href="#cb60-587" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-588"><a href="#cb60-588" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-589"><a href="#cb60-589" aria-hidden="true" tabindex="-1"></a>Load the <span class="in">`soldiers `</span>data and assign it to an object called <span class="in">`soldiers`</span></span>
<span id="cb60-592"><a href="#cb60-592" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-593"><a href="#cb60-593" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="fu">here</span>(<span class="st">"raw_data"</span>, <span class="st">"soldiers.csv"</span>))</span>
<span id="cb60-594"><a href="#cb60-594" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-595"><a href="#cb60-595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-596"><a href="#cb60-596" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-597"><a href="#cb60-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-598"><a href="#cb60-598" aria-hidden="true" tabindex="-1"></a><span class="fu">### Calculate the mean and sd of `weightkg` and `age` for all `Installation`s</span></span>
<span id="cb60-599"><a href="#cb60-599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-602"><a href="#cb60-602" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-603"><a href="#cb60-603" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-604"><a href="#cb60-604" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-605"><a href="#cb60-605" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Installation) <span class="sc">%&gt;%</span> </span>
<span id="cb60-606"><a href="#cb60-606" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight_avg =</span> <span class="fu">mean</span>(weightkg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb60-607"><a href="#cb60-607" aria-hidden="true" tabindex="-1"></a>            <span class="at">weight_sd =</span> <span class="fu">sd</span>(weightkg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb60-608"><a href="#cb60-608" aria-hidden="true" tabindex="-1"></a>            <span class="at">age_avg =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb60-609"><a href="#cb60-609" aria-hidden="true" tabindex="-1"></a>            <span class="at">age_sd =</span> <span class="fu">sd</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb60-610"><a href="#cb60-610" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-611"><a href="#cb60-611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-612"><a href="#cb60-612" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-613"><a href="#cb60-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-614"><a href="#cb60-614" aria-hidden="true" tabindex="-1"></a><span class="fu">### Calculate the mean and sd of `weightkg` and `age` for all `Installation`s for both `sex`es</span></span>
<span id="cb60-615"><a href="#cb60-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-618"><a href="#cb60-618" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-619"><a href="#cb60-619" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-620"><a href="#cb60-620" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-621"><a href="#cb60-621" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Installation, sex) <span class="sc">%&gt;%</span> </span>
<span id="cb60-622"><a href="#cb60-622" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight_avg =</span> <span class="fu">mean</span>(weightkg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb60-623"><a href="#cb60-623" aria-hidden="true" tabindex="-1"></a>            <span class="at">weight_sd =</span> <span class="fu">sd</span>(weightkg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb60-624"><a href="#cb60-624" aria-hidden="true" tabindex="-1"></a>            <span class="at">age_avg =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb60-625"><a href="#cb60-625" aria-hidden="true" tabindex="-1"></a>            <span class="at">age_sd =</span> <span class="fu">sd</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb60-626"><a href="#cb60-626" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-627"><a href="#cb60-627" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-628"><a href="#cb60-628" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-629"><a href="#cb60-629" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-630"><a href="#cb60-630" aria-hidden="true" tabindex="-1"></a><span class="fu">### Calcualate the average height for each `Installation` and count the number of missing values within each `Installation`</span></span>
<span id="cb60-631"><a href="#cb60-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-632"><a href="#cb60-632" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip collapse=true}</span>
<span id="cb60-633"><a href="#cb60-633" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Hint</span></span>
<span id="cb60-634"><a href="#cb60-634" aria-hidden="true" tabindex="-1"></a>To count missings, use the functions <span class="in">`sum()`</span> and <span class="in">`is.na()`</span></span>
<span id="cb60-635"><a href="#cb60-635" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb60-636"><a href="#cb60-636" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-637"><a href="#cb60-637" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-640"><a href="#cb60-640" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-641"><a href="#cb60-641" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-642"><a href="#cb60-642" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-643"><a href="#cb60-643" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Installation) <span class="sc">%&gt;%</span> </span>
<span id="cb60-644"><a href="#cb60-644" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">height_avg =</span> <span class="fu">mean</span>(Heightin, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb60-645"><a href="#cb60-645" aria-hidden="true" tabindex="-1"></a>            <span class="at">height_n_miss =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(Heightin)))</span>
<span id="cb60-646"><a href="#cb60-646" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-647"><a href="#cb60-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-648"><a href="#cb60-648" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-649"><a href="#cb60-649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-650"><a href="#cb60-650" aria-hidden="true" tabindex="-1"></a><span class="fu">### As before, but now also add the number of observations (rows) within each `Installation`</span></span>
<span id="cb60-651"><a href="#cb60-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-652"><a href="#cb60-652" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip collapse=true}</span>
<span id="cb60-653"><a href="#cb60-653" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Hint</span></span>
<span id="cb60-654"><a href="#cb60-654" aria-hidden="true" tabindex="-1"></a>Use <span class="in">`n()`</span></span>
<span id="cb60-655"><a href="#cb60-655" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb60-656"><a href="#cb60-656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-659"><a href="#cb60-659" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-660"><a href="#cb60-660" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-661"><a href="#cb60-661" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-662"><a href="#cb60-662" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Installation) <span class="sc">%&gt;%</span> </span>
<span id="cb60-663"><a href="#cb60-663" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">height_avg =</span> <span class="fu">mean</span>(Heightin, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb60-664"><a href="#cb60-664" aria-hidden="true" tabindex="-1"></a>            <span class="at">height_n_miss =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(Heightin)),</span>
<span id="cb60-665"><a href="#cb60-665" aria-hidden="true" tabindex="-1"></a>            <span class="at">n =</span> <span class="fu">n</span>())</span>
<span id="cb60-666"><a href="#cb60-666" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-667"><a href="#cb60-667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-668"><a href="#cb60-668" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb60-669"><a href="#cb60-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-670"><a href="#cb60-670" aria-hidden="true" tabindex="-1"></a><span class="fu">### As before, but now arrange the output after number of soldiers at each `Installation` in descending order.</span></span>
<span id="cb60-671"><a href="#cb60-671" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-674"><a href="#cb60-674" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-675"><a href="#cb60-675" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-676"><a href="#cb60-676" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-677"><a href="#cb60-677" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Installation) <span class="sc">%&gt;%</span> </span>
<span id="cb60-678"><a href="#cb60-678" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">height_avg =</span> <span class="fu">mean</span>(Heightin, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb60-679"><a href="#cb60-679" aria-hidden="true" tabindex="-1"></a>            <span class="at">height_n_miss =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(Heightin)),</span>
<span id="cb60-680"><a href="#cb60-680" aria-hidden="true" tabindex="-1"></a>            <span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb60-681"><a href="#cb60-681" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb60-682"><a href="#cb60-682" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-683"><a href="#cb60-683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-684"><a href="#cb60-684" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb60-685"><a href="#cb60-685" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-686"><a href="#cb60-686" aria-hidden="true" tabindex="-1"></a><span class="fu">## `mutate()`</span></span>
<span id="cb60-687"><a href="#cb60-687" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-688"><a href="#cb60-688" aria-hidden="true" tabindex="-1"></a>Restart R. (Click Session -&gt; Restart R)\</span>
<span id="cb60-689"><a href="#cb60-689" aria-hidden="true" tabindex="-1"></a>Load the <span class="in">`tidyverse`</span> and the <span class="in">`here`</span> package</span>
<span id="cb60-690"><a href="#cb60-690" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-693"><a href="#cb60-693" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-694"><a href="#cb60-694" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb60-695"><a href="#cb60-695" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb60-696"><a href="#cb60-696" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-697"><a href="#cb60-697" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-698"><a href="#cb60-698" aria-hidden="true" tabindex="-1"></a>Load the <span class="in">`soldiers `</span>data and assign it to an object called <span class="in">`soldiers`</span></span>
<span id="cb60-701"><a href="#cb60-701" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-702"><a href="#cb60-702" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="fu">here</span>(<span class="st">"raw_data"</span>, <span class="st">"soldiers.csv"</span>))</span>
<span id="cb60-703"><a href="#cb60-703" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-704"><a href="#cb60-704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-705"><a href="#cb60-705" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-706"><a href="#cb60-706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-707"><a href="#cb60-707" aria-hidden="true" tabindex="-1"></a><span class="fu">### Add a column called `heightcm` with the height of the soldiers in cm</span></span>
<span id="cb60-708"><a href="#cb60-708" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-709"><a href="#cb60-709" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Update the <span class="in">`soldiers`</span> dataset with the new variable</span>
<span id="cb60-710"><a href="#cb60-710" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>place the new variable after <span class="in">`Heightin`</span></span>
<span id="cb60-711"><a href="#cb60-711" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-714"><a href="#cb60-714" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-715"><a href="#cb60-715" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb60-716"><a href="#cb60-716" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-717"><a href="#cb60-717" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb60-718"><a href="#cb60-718" aria-hidden="true" tabindex="-1"></a>    <span class="at">heightcm =</span> Heightin <span class="sc">*</span> <span class="fl">2.54</span>,</span>
<span id="cb60-719"><a href="#cb60-719" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> Heightin)</span>
<span id="cb60-720"><a href="#cb60-720" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-721"><a href="#cb60-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-722"><a href="#cb60-722" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-723"><a href="#cb60-723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-724"><a href="#cb60-724" aria-hidden="true" tabindex="-1"></a><span class="fu">### Update the `weightkg` column to kg instead of kg*10</span></span>
<span id="cb60-725"><a href="#cb60-725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-726"><a href="#cb60-726" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Update the <span class="in">`soldiers`</span> dataset with the new <span class="in">`weightkg`</span> column</span>
<span id="cb60-727"><a href="#cb60-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-730"><a href="#cb60-730" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-731"><a href="#cb60-731" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb60-732"><a href="#cb60-732" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-733"><a href="#cb60-733" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb60-734"><a href="#cb60-734" aria-hidden="true" tabindex="-1"></a>    <span class="at">weightkg =</span> weightkg<span class="sc">/</span><span class="dv">10</span></span>
<span id="cb60-735"><a href="#cb60-735" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb60-736"><a href="#cb60-736" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-737"><a href="#cb60-737" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-738"><a href="#cb60-738" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-739"><a href="#cb60-739" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-740"><a href="#cb60-740" aria-hidden="true" tabindex="-1"></a><span class="fu">### Add a column called `BMI` with the Body mass index (BMI) of the soldiers</span></span>
<span id="cb60-741"><a href="#cb60-741" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">BMI</span><span class="co">](https://en.wikipedia.org/wiki/Body_mass_index)</span></span>
<span id="cb60-742"><a href="#cb60-742" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-743"><a href="#cb60-743" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Update the <span class="in">`soldiers`</span> dataset to with the new variable</span>
<span id="cb60-744"><a href="#cb60-744" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>place the new variable after <span class="in">`weightkg`</span></span>
<span id="cb60-745"><a href="#cb60-745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-748"><a href="#cb60-748" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-749"><a href="#cb60-749" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb60-750"><a href="#cb60-750" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-751"><a href="#cb60-751" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">BMI =</span> weightkg<span class="sc">/</span>(heightcm<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>,</span>
<span id="cb60-752"><a href="#cb60-752" aria-hidden="true" tabindex="-1"></a>         <span class="at">.after =</span> weightkg)</span>
<span id="cb60-753"><a href="#cb60-753" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-754"><a href="#cb60-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-755"><a href="#cb60-755" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-756"><a href="#cb60-756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-757"><a href="#cb60-757" aria-hidden="true" tabindex="-1"></a><span class="fu">### Add a column called `obese` that contains the value TRUE if BMI is &gt; 30</span></span>
<span id="cb60-760"><a href="#cb60-760" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-761"><a href="#cb60-761" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-762"><a href="#cb60-762" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-763"><a href="#cb60-763" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb60-764"><a href="#cb60-764" aria-hidden="true" tabindex="-1"></a>    <span class="at">obese =</span> <span class="fu">if_else</span>(BMI <span class="sc">&gt;</span> <span class="dv">30</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>),</span>
<span id="cb60-765"><a href="#cb60-765" aria-hidden="true" tabindex="-1"></a>    <span class="at">.before =</span> <span class="dv">1</span> <span class="co"># This line code just places the variable at the front</span></span>
<span id="cb60-766"><a href="#cb60-766" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb60-767"><a href="#cb60-767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-768"><a href="#cb60-768" aria-hidden="true" tabindex="-1"></a><span class="co"># OR</span></span>
<span id="cb60-769"><a href="#cb60-769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-770"><a href="#cb60-770" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-771"><a href="#cb60-771" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb60-772"><a href="#cb60-772" aria-hidden="true" tabindex="-1"></a>    <span class="at">obese =</span> BMI <span class="sc">&gt;</span> <span class="dv">30</span>,</span>
<span id="cb60-773"><a href="#cb60-773" aria-hidden="true" tabindex="-1"></a>    <span class="at">.before =</span> <span class="dv">1</span> <span class="co"># This line code just places the variable at the front</span></span>
<span id="cb60-774"><a href="#cb60-774" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb60-775"><a href="#cb60-775" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-776"><a href="#cb60-776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-777"><a href="#cb60-777" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-778"><a href="#cb60-778" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-779"><a href="#cb60-779" aria-hidden="true" tabindex="-1"></a><span class="fu">### Inspect the below table from [Wikipedia](https://en.wikipedia.org/wiki/Body_mass_index) {#sec-BMI}</span></span>
<span id="cb60-780"><a href="#cb60-780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-783"><a href="#cb60-783" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-784"><a href="#cb60-784" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb60-785"><a href="#cb60-785" aria-hidden="true" tabindex="-1"></a>tibble<span class="sc">::</span><span class="fu">tribble</span>(                          <span class="sc">~</span>Category, <span class="sc">~</span><span class="st">`</span><span class="at">BMI (kg/m^2^)</span><span class="st">`</span>, </span>
<span id="cb60-786"><a href="#cb60-786" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Underweight (Severe thinness)"</span>,          <span class="st">"&lt; 16.0"</span>, </span>
<span id="cb60-787"><a href="#cb60-787" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Underweight (Moderate thinness)"</span>,     <span class="st">"16.0 – 16.9"</span>, </span>
<span id="cb60-788"><a href="#cb60-788" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Underweight (Mild thinness)"</span>,     <span class="st">"17.0 – 18.4"</span>, </span>
<span id="cb60-789"><a href="#cb60-789" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Normal range"</span>,     <span class="st">"18.5 – 24.9"</span>, </span>
<span id="cb60-790"><a href="#cb60-790" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Overweight (Pre-obese)"</span>,     <span class="st">"25.0 – 29.9"</span>, </span>
<span id="cb60-791"><a href="#cb60-791" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"Obese (Class I)"</span>,     <span class="st">"30.0 – 34.9"</span>, </span>
<span id="cb60-792"><a href="#cb60-792" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Obese (Class II)"</span>,     <span class="st">"35.0 – 39.9"</span>, </span>
<span id="cb60-793"><a href="#cb60-793" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Obese (Class III)"</span>,          <span class="st">"&gt;= 40.0"</span>, </span>
<span id="cb60-794"><a href="#cb60-794" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span>   knitr<span class="sc">::</span><span class="fu">kable</span>()</span>
<span id="cb60-795"><a href="#cb60-795" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-796"><a href="#cb60-796" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-797"><a href="#cb60-797" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb60-798"><a href="#cb60-798" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-799"><a href="#cb60-799" aria-hidden="true" tabindex="-1"></a><span class="fu">### Create the variable `category` that tells us whether the soldiers are "Underweight", "Normal range", "Overweight", or "Obese"</span></span>
<span id="cb60-800"><a href="#cb60-800" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-801"><a href="#cb60-801" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Update the <span class="in">`soldiers`</span> dataset with the new variable</span>
<span id="cb60-802"><a href="#cb60-802" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>place the new variable after <span class="in">`BMI`</span>\</span>
<span id="cb60-803"><a href="#cb60-803" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-804"><a href="#cb60-804" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip collapse=true}</span>
<span id="cb60-805"><a href="#cb60-805" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Hint 1</span></span>
<span id="cb60-806"><a href="#cb60-806" aria-hidden="true" tabindex="-1"></a>Use <span class="in">`case_when()`</span></span>
<span id="cb60-807"><a href="#cb60-807" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb60-808"><a href="#cb60-808" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-809"><a href="#cb60-809" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip collapse=true}</span>
<span id="cb60-810"><a href="#cb60-810" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Hint 2</span></span>
<span id="cb60-811"><a href="#cb60-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-814"><a href="#cb60-814" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-815"><a href="#cb60-815" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-816"><a href="#cb60-816" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb60-817"><a href="#cb60-817" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-818"><a href="#cb60-818" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb60-819"><a href="#cb60-819" aria-hidden="true" tabindex="-1"></a>    <span class="at">category =</span> ????</span>
<span id="cb60-820"><a href="#cb60-820" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb60-821"><a href="#cb60-821" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-822"><a href="#cb60-822" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb60-823"><a href="#cb60-823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-824"><a href="#cb60-824" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip collapse=true}</span>
<span id="cb60-825"><a href="#cb60-825" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Hint 3</span></span>
<span id="cb60-826"><a href="#cb60-826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-829"><a href="#cb60-829" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-830"><a href="#cb60-830" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-831"><a href="#cb60-831" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb60-832"><a href="#cb60-832" aria-hidden="true" tabindex="-1"></a>soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-833"><a href="#cb60-833" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb60-834"><a href="#cb60-834" aria-hidden="true" tabindex="-1"></a>    <span class="at">category =</span> <span class="fu">case_when</span>(</span>
<span id="cb60-835"><a href="#cb60-835" aria-hidden="true" tabindex="-1"></a>      <span class="co">#TEST HERE ~ OUTPUT, </span></span>
<span id="cb60-836"><a href="#cb60-836" aria-hidden="true" tabindex="-1"></a>      <span class="co">#TEST HERE ~ OUTPUT,</span></span>
<span id="cb60-837"><a href="#cb60-837" aria-hidden="true" tabindex="-1"></a>      <span class="co">#TEST HERE ~ OUTPUT,</span></span>
<span id="cb60-838"><a href="#cb60-838" aria-hidden="true" tabindex="-1"></a>      <span class="co">#.default = OUTPUT</span></span>
<span id="cb60-839"><a href="#cb60-839" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb60-840"><a href="#cb60-840" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb60-841"><a href="#cb60-841" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-842"><a href="#cb60-842" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb60-843"><a href="#cb60-843" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-846"><a href="#cb60-846" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-847"><a href="#cb60-847" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb60-848"><a href="#cb60-848" aria-hidden="true" tabindex="-1"></a>soldiers <span class="ot">&lt;-</span> soldiers <span class="sc">%&gt;%</span> </span>
<span id="cb60-849"><a href="#cb60-849" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb60-850"><a href="#cb60-850" aria-hidden="true" tabindex="-1"></a>    <span class="at">category =</span> <span class="fu">case_when</span>(</span>
<span id="cb60-851"><a href="#cb60-851" aria-hidden="true" tabindex="-1"></a>      BMI <span class="sc">&lt;</span> <span class="fl">18.5</span> <span class="sc">~</span> <span class="st">"Underweight"</span>,</span>
<span id="cb60-852"><a href="#cb60-852" aria-hidden="true" tabindex="-1"></a>      BMI <span class="sc">&lt;</span> <span class="dv">25</span>   <span class="sc">~</span> <span class="st">"Normal range"</span>,</span>
<span id="cb60-853"><a href="#cb60-853" aria-hidden="true" tabindex="-1"></a>      BMI <span class="sc">&lt;</span> <span class="dv">30</span>   <span class="sc">~</span> <span class="st">"Overweight"</span>,</span>
<span id="cb60-854"><a href="#cb60-854" aria-hidden="true" tabindex="-1"></a>      BMI <span class="sc">&gt;=</span> <span class="dv">30</span>  <span class="sc">~</span> <span class="st">"Obese"</span>,</span>
<span id="cb60-855"><a href="#cb60-855" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> <span class="cn">NA</span>),</span>
<span id="cb60-856"><a href="#cb60-856" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> BMI</span>
<span id="cb60-857"><a href="#cb60-857" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb60-858"><a href="#cb60-858" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-859"><a href="#cb60-859" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-860"><a href="#cb60-860" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb60-861"><a href="#cb60-861" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-862"><a href="#cb60-862" aria-hidden="true" tabindex="-1"></a><span class="fu">## `count()`</span></span>
<span id="cb60-863"><a href="#cb60-863" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-864"><a href="#cb60-864" aria-hidden="true" tabindex="-1"></a>For simple counting <span class="in">`count()`</span> is faster than <span class="in">`summarise(n = n())`</span> or <span class="in">`mutate(n = n())`</span></span>
<span id="cb60-865"><a href="#cb60-865" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-866"><a href="#cb60-866" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb60-867"><a href="#cb60-867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-868"><a href="#cb60-868" aria-hidden="true" tabindex="-1"></a><span class="fu">### What is this code equivalent to?</span></span>
<span id="cb60-871"><a href="#cb60-871" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-872"><a href="#cb60-872" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-873"><a href="#cb60-873" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb60-874"><a href="#cb60-874" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> </span>
<span id="cb60-875"><a href="#cb60-875" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span>
<span id="cb60-876"><a href="#cb60-876" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-877"><a href="#cb60-877" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-878"><a href="#cb60-878" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;details&gt;&lt;summary&gt;</span>ANSWER<span class="kw">&lt;/summary&gt;</span></span>
<span id="cb60-879"><a href="#cb60-879" aria-hidden="true" tabindex="-1"></a><span class="in">`count()`</span> works like <span class="in">`summarise(n = n())`</span></span>
<span id="cb60-880"><a href="#cb60-880" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/details&gt;</span></span>
<span id="cb60-881"><a href="#cb60-881" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-882"><a href="#cb60-882" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb60-883"><a href="#cb60-883" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-884"><a href="#cb60-884" aria-hidden="true" tabindex="-1"></a><span class="fu">### What is this code equivalent to?</span></span>
<span id="cb60-887"><a href="#cb60-887" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-888"><a href="#cb60-888" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-889"><a href="#cb60-889" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb60-890"><a href="#cb60-890" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> </span>
<span id="cb60-891"><a href="#cb60-891" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(cut)</span>
<span id="cb60-892"><a href="#cb60-892" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-893"><a href="#cb60-893" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-894"><a href="#cb60-894" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-897"><a href="#cb60-897" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-898"><a href="#cb60-898" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb60-899"><a href="#cb60-899" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Answer"</span></span>
<span id="cb60-900"><a href="#cb60-900" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-901"><a href="#cb60-901" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-902"><a href="#cb60-902" aria-hidden="true" tabindex="-1"></a><span class="co"># The code is equivalent to:</span></span>
<span id="cb60-903"><a href="#cb60-903" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(cut) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>())</span>
<span id="cb60-904"><a href="#cb60-904" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-905"><a href="#cb60-905" aria-hidden="true" tabindex="-1"></a><span class="co"># OR</span></span>
<span id="cb60-906"><a href="#cb60-906" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-907"><a href="#cb60-907" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(), <span class="at">.by =</span> cut)</span>
<span id="cb60-908"><a href="#cb60-908" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-909"><a href="#cb60-909" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-910"><a href="#cb60-910" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-911"><a href="#cb60-911" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-912"><a href="#cb60-912" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb60-913"><a href="#cb60-913" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-914"><a href="#cb60-914" aria-hidden="true" tabindex="-1"></a><span class="fu">### What is this code equivalent to?</span></span>
<span id="cb60-917"><a href="#cb60-917" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-918"><a href="#cb60-918" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-919"><a href="#cb60-919" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb60-920"><a href="#cb60-920" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> </span>
<span id="cb60-921"><a href="#cb60-921" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(cut, color)</span>
<span id="cb60-922"><a href="#cb60-922" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-923"><a href="#cb60-923" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-924"><a href="#cb60-924" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-927"><a href="#cb60-927" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-928"><a href="#cb60-928" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb60-929"><a href="#cb60-929" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Answer"</span></span>
<span id="cb60-930"><a href="#cb60-930" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-931"><a href="#cb60-931" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-932"><a href="#cb60-932" aria-hidden="true" tabindex="-1"></a><span class="co"># The code is equivalent to:</span></span>
<span id="cb60-933"><a href="#cb60-933" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(cut, color) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>())</span>
<span id="cb60-934"><a href="#cb60-934" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-935"><a href="#cb60-935" aria-hidden="true" tabindex="-1"></a><span class="co"># OR</span></span>
<span id="cb60-936"><a href="#cb60-936" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-937"><a href="#cb60-937" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(), <span class="at">.by =</span> <span class="fu">c</span>(cut, color))</span>
<span id="cb60-938"><a href="#cb60-938" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-939"><a href="#cb60-939" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-940"><a href="#cb60-940" aria-hidden="true" tabindex="-1"></a><span class="co"># However, notice that the first solution returns a grouped tibble</span></span>
<span id="cb60-941"><a href="#cb60-941" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-942"><a href="#cb60-942" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-943"><a href="#cb60-943" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-944"><a href="#cb60-944" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb60-945"><a href="#cb60-945" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-946"><a href="#cb60-946" aria-hidden="true" tabindex="-1"></a><span class="fu">### What is this code equivalent to?</span></span>
<span id="cb60-949"><a href="#cb60-949" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-950"><a href="#cb60-950" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb60-951"><a href="#cb60-951" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb60-952"><a href="#cb60-952" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> </span>
<span id="cb60-953"><a href="#cb60-953" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_count</span>()</span>
<span id="cb60-954"><a href="#cb60-954" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-955"><a href="#cb60-955" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-956"><a href="#cb60-956" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;details&gt;&lt;summary&gt;</span>ANSWER<span class="kw">&lt;/summary&gt;</span></span>
<span id="cb60-957"><a href="#cb60-957" aria-hidden="true" tabindex="-1"></a><span class="in">`add_count()`</span> works like <span class="in">`mutate(n = n())`</span></span>
<span id="cb60-958"><a href="#cb60-958" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/details&gt;</span></span>
<span id="cb60-959"><a href="#cb60-959" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-960"><a href="#cb60-960" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb60-961"><a href="#cb60-961" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-962"><a href="#cb60-962" aria-hidden="true" tabindex="-1"></a><span class="fu">### Count the number of diamonds within each type of `cut` and calculate the percentage of each cut</span></span>
<span id="cb60-965"><a href="#cb60-965" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-966"><a href="#cb60-966" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb60-967"><a href="#cb60-967" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> </span>
<span id="cb60-968"><a href="#cb60-968" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(cut) <span class="sc">%&gt;%</span> </span>
<span id="cb60-969"><a href="#cb60-969" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percent =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb60-970"><a href="#cb60-970" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-971"><a href="#cb60-971" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-972"><a href="#cb60-972" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-973"><a href="#cb60-973" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb60-974"><a href="#cb60-974" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-975"><a href="#cb60-975" aria-hidden="true" tabindex="-1"></a><span class="fu">### Inspect the output of this code. What is going wrong?</span></span>
<span id="cb60-978"><a href="#cb60-978" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb60-979"><a href="#cb60-979" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb60-980"><a href="#cb60-980" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span> </span>
<span id="cb60-981"><a href="#cb60-981" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cut) <span class="sc">%&gt;%</span> </span>
<span id="cb60-982"><a href="#cb60-982" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb60-983"><a href="#cb60-983" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percent =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb60-984"><a href="#cb60-984" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb60-985"><a href="#cb60-985" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-986"><a href="#cb60-986" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-987"><a href="#cb60-987" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-988"><a href="#cb60-988" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-989"><a href="#cb60-989" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;script</span> <span class="er">src</span><span class="ot">=</span><span class="st">"https://giscus.app/client.js"</span></span>
<span id="cb60-990"><a href="#cb60-990" aria-hidden="true" tabindex="-1"></a><span class="ot">        data-repo=</span><span class="st">"sorenoneill/r4phd"</span></span>
<span id="cb60-991"><a href="#cb60-991" aria-hidden="true" tabindex="-1"></a><span class="ot">        data-repo-id=</span><span class="st">"R_kgDOJ9etDQ"</span></span>
<span id="cb60-992"><a href="#cb60-992" aria-hidden="true" tabindex="-1"></a><span class="ot">        data-category=</span><span class="st">"Announcements"</span></span>
<span id="cb60-993"><a href="#cb60-993" aria-hidden="true" tabindex="-1"></a><span class="ot">        data-category-id=</span><span class="st">"DIC_kwDOJ9etDc4CYApF"</span></span>
<span id="cb60-994"><a href="#cb60-994" aria-hidden="true" tabindex="-1"></a><span class="ot">        data-mapping=</span><span class="st">"pathname"</span></span>
<span id="cb60-995"><a href="#cb60-995" aria-hidden="true" tabindex="-1"></a><span class="ot">        data-strict=</span><span class="st">"0"</span></span>
<span id="cb60-996"><a href="#cb60-996" aria-hidden="true" tabindex="-1"></a><span class="ot">        data-reactions-enabled=</span><span class="st">"0"</span></span>
<span id="cb60-997"><a href="#cb60-997" aria-hidden="true" tabindex="-1"></a><span class="ot">        data-emit-metadata=</span><span class="st">"0"</span></span>
<span id="cb60-998"><a href="#cb60-998" aria-hidden="true" tabindex="-1"></a><span class="ot">        data-input-position=</span><span class="st">"bottom"</span></span>
<span id="cb60-999"><a href="#cb60-999" aria-hidden="true" tabindex="-1"></a><span class="ot">        data-theme=</span><span class="st">"cobalt"</span></span>
<span id="cb60-1000"><a href="#cb60-1000" aria-hidden="true" tabindex="-1"></a><span class="ot">        data-lang=</span><span class="st">"en"</span></span>
<span id="cb60-1001"><a href="#cb60-1001" aria-hidden="true" tabindex="-1"></a><span class="ot">        crossorigin=</span><span class="st">"anonymous"</span></span>
<span id="cb60-1002"><a href="#cb60-1002" aria-hidden="true" tabindex="-1"></a><span class="ot">        async</span><span class="kw">&gt;</span></span>
<span id="cb60-1003"><a href="#cb60-1003" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/script&gt;</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>